{"ast":null,"code":"import { connectToDatabase } from \"../../../lib/db\";\n\nasync function handler(req, res) {\n  if (req.method !== \"POST\") {\n    return;\n  }\n\n  const data = req.body;\n  const {\n    Type,\n    Category,\n    Title,\n    Description,\n    Question,\n    Date,\n    reducedImg\n  } = data;\n\n  if (!Type || !Category || !Title || !Description || !Question || !Date || !reducedImg) {\n    return res.status(400).json({\n      message: \"All fields are required\"\n    });\n  }\n\n  const client = await connectToDatabase();\n  const db = client.db();\n  const result = await db.collection(\"PostedItem\").insertOne({\n    Type: Type,\n    Category: Category,\n    Title: Title,\n    Description: Description,\n    Question: Question,\n    Date: Date\n  });\n  res.status(201).json({\n    message: \"Item Posted!\"\n  });\n  client.close();\n}\n\nexport default handler;","map":{"version":3,"sources":["G:/FYP/LostNestfyp/lostnestprj/pages/api/post/postitem.js"],"names":["connectToDatabase","handler","req","res","method","data","body","Type","Category","Title","Description","Question","Date","reducedImg","status","json","message","client","db","result","collection","insertOne","close"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,iBAAlC;;AAEA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB;AACD;;AAED,QAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB;AAEA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,QAAR;AAAkBC,IAAAA,KAAlB;AAAyBC,IAAAA,WAAzB;AAAsCC,IAAAA,QAAtC;AAAgDC,IAAAA,IAAhD;AAAsDC,IAAAA;AAAtD,MACJR,IADF;;AAGA,MACE,CAACE,IAAD,IACA,CAACC,QADD,IAEA,CAACC,KAFD,IAGA,CAACC,WAHD,IAIA,CAACC,QAJD,IAKA,CAACC,IALD,IAMA,CAACC,UAPH,EAQE;AACA,WAAOV,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACD;;AACD,QAAMC,MAAM,GAAG,MAAMjB,iBAAiB,EAAtC;AAEA,QAAMkB,EAAE,GAAGD,MAAM,CAACC,EAAP,EAAX;AAEA,QAAMC,MAAM,GAAG,MAAMD,EAAE,CAACE,UAAH,CAAc,YAAd,EAA4BC,SAA5B,CAAsC;AACzDd,IAAAA,IAAI,EAAEA,IADmD;AAEzDC,IAAAA,QAAQ,EAAEA,QAF+C;AAGzDC,IAAAA,KAAK,EAAEA,KAHkD;AAIzDC,IAAAA,WAAW,EAAEA,WAJ4C;AAKzDC,IAAAA,QAAQ,EAAEA,QAL+C;AAMzDC,IAAAA,IAAI,EAAEA;AANmD,GAAtC,CAArB;AASAT,EAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAArB;AACAC,EAAAA,MAAM,CAACK,KAAP;AACD;;AAED,eAAerB,OAAf","sourcesContent":["import { connectToDatabase } from \"../../../lib/db\";\r\n\r\nasync function handler(req, res) {\r\n  if (req.method !== \"POST\") {\r\n    return;\r\n  }\r\n\r\n  const data = req.body;\r\n\r\n  const { Type, Category, Title, Description, Question, Date, reducedImg } =\r\n    data;\r\n\r\n  if (\r\n    !Type ||\r\n    !Category ||\r\n    !Title ||\r\n    !Description ||\r\n    !Question ||\r\n    !Date ||\r\n    !reducedImg\r\n  ) {\r\n    return res.status(400).json({ message: \"All fields are required\" });\r\n  }\r\n  const client = await connectToDatabase();\r\n\r\n  const db = client.db();\r\n\r\n  const result = await db.collection(\"PostedItem\").insertOne({\r\n    Type: Type,\r\n    Category: Category,\r\n    Title: Title,\r\n    Description: Description,\r\n    Question: Question,\r\n    Date: Date,\r\n  });\r\n\r\n  res.status(201).json({ message: \"Item Posted!\" });\r\n  client.close();\r\n}\r\n\r\nexport default handler;\r\n"]},"metadata":{},"sourceType":"module"}