{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"G:/FYP/LostNestfyp/lostnestprj/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"G:/FYP/LostNestfyp/lostnestprj/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState } from \"react\";\nimport classes from \"./ResponseItem.module.css\";\n\nvar ResponseItem = function ResponseItem(props) {\n  var _props$data = props.data,\n      _id = _props$data._id,\n      enteredContact = _props$data.enteredContact,\n      ItemTitle = _props$data.ItemTitle,\n      PostID = _props$data.PostID,\n      PosterID = _props$data.PosterID,\n      Question = _props$data.Question,\n      ValidatorDateTime = _props$data.ValidatorDateTime,\n      Answer = _props$data.Answer;\n\n  var _useState = useState(false),\n      isDivVisible = _useState[0],\n      setIsDivVisible = _useState[1];\n\n  var _useState2 = useState(false),\n      isItemDelete = _useState2[0],\n      setIsItemDelete = _useState2[1];\n\n  function deletePostData(_x) {\n    return _deletePostData.apply(this, arguments);\n  }\n\n  function _deletePostData() {\n    _deletePostData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(DeleteResponse) {\n      var response, errorMessage, data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return fetch(\"/api/answers/deleteResponse\", {\n                method: \"DELETE\",\n                body: JSON.stringify({\n                  DeleteResponse: DeleteResponse\n                }),\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                }\n              });\n\n            case 3:\n              response = _context2.sent;\n\n              if (response.ok) {\n                _context2.next = 9;\n                break;\n              }\n\n              _context2.next = 7;\n              return response.text();\n\n            case 7:\n              errorMessage = _context2.sent;\n              throw new Error(\"HTTP error! Status: \".concat(response.status, \", Message: \").concat(errorMessage));\n\n            case 9:\n              _context2.next = 11;\n              return response.json();\n\n            case 11:\n              data = _context2.sent;\n              return _context2.abrupt(\"return\", data);\n\n            case 15:\n              _context2.prev = 15;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(\"Error deleting response:\", _context2.t0.message);\n              throw _context2.t0;\n\n            case 19:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 15]]);\n    }));\n    return _deletePostData.apply(this, arguments);\n  }\n\n  var handleButtonClick = function handleButtonClick() {\n    setIsDivVisible(!isDivVisible);\n  };\n\n  var deleteButtonClick = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsItemDelete(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return deletePostData(_id);\n\n            case 4:\n              result = _context.sent;\n              //   // Handle the result if needed\n              window.location.reload();\n              setIsItemDelete(false);\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              // Handle the error, e.g., show an error message to the user\n              console.error(\"Error deleting response:\", _context.t0.message);\n              setIsItemDelete(false);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9]]);\n    }));\n\n    return function deleteButtonClick() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  if (isItemDelete) {\n    return /*#__PURE__*/_jsx(\"p\", {\n      style: {\n        fontSize: \"1.5rem\",\n        fontWeight: \"bold\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: \"Item Is Being Deleted...\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"li\", {\n    style: {\n      fontSize: \"1.5rem\",\n      border: \"1px solid #311465\",\n      padding: \"2rem\",\n      boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.1)\",\n      fontWeight: \"400\",\n      borderRadius: \"1rem\",\n      position: \"relative\",\n      overflow: \"hidden\" // Hide overflow for a cleaner look\n\n    },\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      style: {\n        background: \"#311465\",\n        height: \"100%\",\n        width: \"4px\",\n        position: \"absolute\",\n        left: 0,\n        top: 0\n      }\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      style: {\n        marginLeft: \"4rem\"\n      },\n      children: [/*#__PURE__*/_jsxs(\"h3\", {\n        children: [\"Item ID: \", /*#__PURE__*/_jsx(\"span\", {\n          className: classes.spaner,\n          children: PostID\n        })]\n      }), /*#__PURE__*/_jsxs(\"h3\", {\n        children: [\"Item Name: \", /*#__PURE__*/_jsx(\"span\", {\n          className: classes.spaner,\n          children: ItemTitle\n        })]\n      }), /*#__PURE__*/_jsxs(\"h3\", {\n        children: [\"Question? \", /*#__PURE__*/_jsx(\"span\", {\n          className: classes.spaner,\n          children: Question\n        })]\n      }), /*#__PURE__*/_jsxs(\"h3\", {\n        children: [\"Your Answer: \", /*#__PURE__*/_jsx(\"span\", {\n          className: classes.spaner,\n          children: Answer\n        })]\n      }), /*#__PURE__*/_jsxs(\"h3\", {\n        children: [\"Time: \", /*#__PURE__*/_jsx(\"span\", {\n          className: classes.spaner,\n          children: ValidatorDateTime\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          textAlign: \"center\",\n          marginTop: \"2rem\"\n        },\n        children: isDivVisible || /*#__PURE__*/_jsx(\"button\", {\n          className: classes.btn,\n          onClick: handleButtonClick,\n          children: \"Show Response\"\n        })\n      }), isDivVisible && /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          padding: \"1rem\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          borderRadius: \"1rem\",\n          background: \"#f4f4f4\"\n        },\n        children: [/*#__PURE__*/_jsxs(\"h4\", {\n          children: [\"Response :\", \" \", /*#__PURE__*/_jsx(\"span\", {\n            style: {\n              color: \"#311465\"\n            },\n            children: enteredContact\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          style: {\n            display: \"grid\",\n            gridTemplateColumns: \"1fr 1fr\",\n            gridGap: \"1rem\"\n          },\n          children: [/*#__PURE__*/_jsx(\"button\", {\n            className: classes.btn,\n            onClick: handleButtonClick,\n            children: \"Close\"\n          }), /*#__PURE__*/_jsx(\"button\", {\n            className: classes.btn,\n            onClick: deleteButtonClick,\n            children: \"Delete\"\n          })]\n        })]\n      })]\n    })]\n  });\n};\n\nexport default ResponseItem;","map":null,"metadata":{},"sourceType":"module"}