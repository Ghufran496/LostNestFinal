{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport ErrorComp from \"../UI/ErrorComp\";\nimport SpecificGrid from \"./SpecificGrid\";\nimport Loading from \"../UI/Loading\";\n\nfunction Specificpost() {\n  var _useState = useState(\"\"),\n      isData = _useState[0],\n      setIsData = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      isError = _useState3[0],\n      setIsError = _useState3[1];\n\n  var _useState4 = useState(\"Sorry but the page you are looking for does not exist.\"),\n      isErrorData = _useState4[0],\n      setIsErrorData = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      isPosts = _useState5[0],\n      setIsPosts = _useState5[1];\n\n  useEffect(function () {\n    var isMounted = true; // Flag to track if the component is mounted\n\n    setIsLoading(true);\n    fetch(\"/api/myposts/fetchmypost\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (isMounted) {\n        //console.log(data);\n        var dataArray = Array.isArray(data) ? data : [data]; //console.log(dataArray);\n\n        if (dataArray.length === 0) {\n          setIsPosts(\"You have not Listed any Posts Yet...\");\n        }\n\n        setIsData(dataArray);\n\n        if (data.message) {\n          setIsErrorData(data.message);\n          setIsError(true);\n        }\n\n        setIsLoading(false);\n      }\n    })[\"catch\"](function (error) {\n      if (isMounted) {\n        setIsError(true);\n        setIsErrorData(\"An error occurred while fetching data.\");\n        setIsLoading(false);\n      }\n\n      console.error(\"Fetch error:\", error);\n    }); // Cleanup function\n\n    return function () {\n      isMounted = false; // Set flag to false when component is unmounted\n    };\n  }, [setIsData, setIsError, setIsErrorData]);\n\n  if (isPosts) {\n    return /*#__PURE__*/_jsx(\"h1\", {\n      style: {\n        textTransform: \"capitalize\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        marginTop: \"2rem\"\n      },\n      children: isPosts\n    });\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsx(ErrorComp, {\n      errorData: isErrorData\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(SpecificGrid, {\n      data: isData\n    }), isLoading && /*#__PURE__*/_jsx(Loading, {})]\n  });\n}\n\nexport default Specificpost;","map":null,"metadata":{},"sourceType":"module"}