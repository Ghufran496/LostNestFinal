{"ast":null,"code":"import { connectToDatabase } from \"../../../lib/db\";\n\nasync function handler(req, res) {\n  if (req.method === \"POST\") {\n    return;\n  } else {\n    try {\n      const client = await connectToDatabase();\n      const db = client.db();\n      const data = await db.collection(\"PostedItem\").find({}).toArray(); //console.log(data);\n\n      res.status(200).json(data);\n      client.close();\n    } catch (error) {\n      // console.error(\"Error:\", error);\n      res.status(500).json({\n        message: \"Internal Server Error: Unable to fetch and Display Posts\"\n      });\n      client.close();\n    }\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["G:/FYP/LostNestfyp/lostnestprj/pages/api/myposts/fetchmypost.js"],"names":["connectToDatabase","handler","req","res","method","client","db","data","collection","find","toArray","status","json","close","error","message"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,iBAAlC;;AAEA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB;AACD,GAFD,MAEO;AACL,QAAI;AACF,YAAMC,MAAM,GAAG,MAAML,iBAAiB,EAAtC;AACA,YAAMM,EAAE,GAAGD,MAAM,CAACC,EAAP,EAAX;AAEA,YAAMC,IAAI,GAAG,MAAMD,EAAE,CAACE,UAAH,CAAc,YAAd,EAA4BC,IAA5B,CAAiC,EAAjC,EAAqCC,OAArC,EAAnB,CAJE,CAKF;;AACAP,MAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBL,IAArB;AACAF,MAAAA,MAAM,CAACQ,KAAP;AACD,KARD,CAQE,OAAOC,KAAP,EAAc;AACd;AACAX,MAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBG,QAAAA,OAAO,EAAE;AADU,OAArB;AAGAV,MAAAA,MAAM,CAACQ,KAAP;AACD;AACF;AACF;;AAED,eAAeZ,OAAf","sourcesContent":["import { connectToDatabase } from \"../../../lib/db\";\r\n\r\nasync function handler(req, res) {\r\n  if (req.method === \"POST\") {\r\n    return;\r\n  } else {\r\n    try {\r\n      const client = await connectToDatabase();\r\n      const db = client.db();\r\n\r\n      const data = await db.collection(\"PostedItem\").find({}).toArray();\r\n      //console.log(data);\r\n      res.status(200).json(data);\r\n      client.close();\r\n    } catch (error) {\r\n      // console.error(\"Error:\", error);\r\n      res.status(500).json({\r\n        message: \"Internal Server Error: Unable to fetch and Display Posts\",\r\n      });\r\n      client.close();\r\n    }\r\n  }\r\n}\r\n\r\nexport default handler;\r\n"]},"metadata":{},"sourceType":"module"}