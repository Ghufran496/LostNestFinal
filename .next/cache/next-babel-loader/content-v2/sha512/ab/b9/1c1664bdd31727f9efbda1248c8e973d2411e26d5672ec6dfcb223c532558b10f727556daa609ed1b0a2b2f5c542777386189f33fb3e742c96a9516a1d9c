{"ast":null,"code":"import { connectToDatabase } from \"../../../lib/db\";\n\nasync function handler(req, res) {\n  if (req.method !== \"POST\") {\n    return;\n  }\n\n  const data = req.body;\n  const {\n    email,\n    message,\n    enteredName\n  } = data;\n\n  if (!enteredName) {\n    res.status(422).json({\n      message: \"Please Enter your Name\"\n    });\n    return;\n  }\n\n  if (!message) {\n    res.status(422).json({\n      message: \"Message not Entered\"\n    });\n    return;\n  }\n\n  if (!email.includes(\"@\") || !email) {\n    res.status(422).json({\n      message: \"Invalid Email address\"\n    });\n    return;\n  }\n\n  const client = await connectToDatabase();\n  const db = client.db();\n  const result = await db.collection(\"ContactForm\").insertOne({\n    name: enteredName,\n    email: email,\n    Message: message\n  });\n  res.status(201).json({\n    message: \"Created user!\"\n  });\n}\n\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}