{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport classes from \"./ResponseItem.module.css\";\n\nconst ResponseItem = props => {\n  const {\n    _id,\n    enteredContact,\n    ItemTitle,\n    PostID,\n    PosterID,\n    Question,\n    ValidatorDateTime,\n    Answer\n  } = props.data;\n  const {\n    0: isDivVisible,\n    1: setIsDivVisible\n  } = useState(false);\n  const {\n    0: isItemDelete,\n    1: setIsItemDelete\n  } = useState(false);\n\n  async function deletePostData(DeleteResponse) {\n    try {\n      const response = await fetch(\"/api/answers/deleteResponse\", {\n        method: \"DELETE\",\n        body: JSON.stringify({\n          DeleteResponse\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n\n      if (!response.ok) {\n        const errorMessage = await response.text();\n        throw new Error(`HTTP error! Status: ${response.status}, Message: ${errorMessage}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error(\"Error deleting response:\", error.message);\n      throw error;\n    }\n  }\n\n  const handleButtonClick = () => {\n    setIsDivVisible(!isDivVisible);\n  };\n\n  const deleteButtonClick = async () => {\n    setIsItemDelete(true);\n\n    try {\n      const result = await deletePostData(_id); //   // Handle the result if needed\n\n      window.location.reload();\n      setIsItemDelete(false);\n    } catch (error) {\n      // Handle the error, e.g., show an error message to the user\n      console.error(\"Error deleting response:\", error.message);\n      setIsItemDelete(false);\n    }\n  };\n\n  if (isItemDelete) {\n    return /*#__PURE__*/_jsx(\"p\", {\n      style: {\n        fontSize: \"1.5rem\",\n        fontWeight: \"bold\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: \"Item Is Being Deleted...\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"li\", {\n    style: {\n      fontSize: \"1.5rem\",\n      border: \"1px solid #311465\",\n      padding: \"2rem\",\n      boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.1)\",\n      fontWeight: \"400\",\n      borderRadius: \"1rem\",\n      position: \"relative\",\n      overflow: \"hidden\" // Hide overflow for a cleaner look\n\n    },\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      style: {\n        background: \"#311465\",\n        height: \"100%\",\n        width: \"4px\",\n        position: \"absolute\",\n        left: 0,\n        top: 0\n      }\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      style: {\n        marginLeft: \"4rem\"\n      },\n      children: [/*#__PURE__*/_jsxs(\"h3\", {\n        children: [\"Item ID: \", /*#__PURE__*/_jsx(\"span\", {\n          className: classes.spaner,\n          children: PostID\n        })]\n      }), /*#__PURE__*/_jsxs(\"h3\", {\n        children: [\"Item Name: \", /*#__PURE__*/_jsx(\"span\", {\n          className: classes.spaner,\n          children: ItemTitle\n        })]\n      }), /*#__PURE__*/_jsxs(\"h3\", {\n        children: [\"Question? \", /*#__PURE__*/_jsx(\"span\", {\n          className: classes.spaner,\n          children: Question\n        })]\n      }), /*#__PURE__*/_jsxs(\"h3\", {\n        children: [\"Your Answer: \", /*#__PURE__*/_jsx(\"span\", {\n          className: classes.spaner,\n          children: Answer\n        })]\n      }), /*#__PURE__*/_jsxs(\"h3\", {\n        children: [\"Time: \", /*#__PURE__*/_jsx(\"span\", {\n          className: classes.spaner,\n          children: ValidatorDateTime\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          textAlign: \"center\",\n          marginTop: \"2rem\"\n        },\n        children: isDivVisible || /*#__PURE__*/_jsx(\"button\", {\n          className: classes.btn,\n          onClick: handleButtonClick,\n          children: \"Show Response\"\n        })\n      }), isDivVisible && /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          padding: \"1rem\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          borderRadius: \"1rem\",\n          background: \"#f4f4f4\"\n        },\n        children: [/*#__PURE__*/_jsxs(\"h4\", {\n          children: [\"Response :\", \" \", /*#__PURE__*/_jsx(\"span\", {\n            style: {\n              color: \"#311465\"\n            },\n            children: enteredContact\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          style: {\n            display: \"grid\",\n            gridTemplateColumns: \"1fr 1fr\",\n            gridGap: \"1rem\"\n          },\n          children: [/*#__PURE__*/_jsx(\"button\", {\n            className: classes.btn,\n            onClick: handleButtonClick,\n            children: \"Close\"\n          }), /*#__PURE__*/_jsx(\"button\", {\n            className: classes.btn,\n            onClick: deleteButtonClick,\n            children: \"Delete\"\n          })]\n        })]\n      })]\n    })]\n  });\n};\n\nexport default ResponseItem;","map":null,"metadata":{},"sourceType":"module"}