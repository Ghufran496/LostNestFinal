{"ast":null,"code":"import { connectToDatabase } from \"../../../lib/db\";\n\nasync function handler(req, res) {\n  if (req.method === \"POST\") {\n    const data = req.body;\n    const {\n      enteredInformations,\n      ItemTitle,\n      PostID,\n      PosterID,\n      Question,\n      combinedDateTime,\n      Answer\n    } = data;\n    const enteredContact = enteredInformations ? enteredInformations : \"Responder has nullified the validation.\";\n\n    if (!enteredContact) {\n      res.status(422).json({\n        message: \"Please Enter Contact details\"\n      });\n      return;\n    }\n\n    const client = await connectToDatabase();\n    const db = client.db();\n    const result = await db.collection(\"ValidationResponse\").insertOne({\n      enteredContact,\n      ItemTitle,\n      PostID,\n      PosterID,\n      Question,\n      ValidatorDateTime: combinedDateTime,\n      Answer\n    });\n    res.status(201).json({\n      message: \"Contact Information stored successfully\"\n    });\n  }\n\n  if (req.method === \"GET\") {\n    return;\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["G:/FYP/LostNestfyp/lostnestprj/pages/api/answers/sendResponse.js"],"names":["connectToDatabase","handler","req","res","method","data","body","enteredInformations","ItemTitle","PostID","PosterID","Question","combinedDateTime","Answer","enteredContact","status","json","message","client","db","result","collection","insertOne","ValidatorDateTime"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,iBAAlC;;AACA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,UAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB;AAEA,UAAM;AACJC,MAAAA,mBADI;AAEJC,MAAAA,SAFI;AAGJC,MAAAA,MAHI;AAIJC,MAAAA,QAJI;AAKJC,MAAAA,QALI;AAMJC,MAAAA,gBANI;AAOJC,MAAAA;AAPI,QAQFR,IARJ;AAUA,UAAMS,cAAc,GAAGP,mBAAmB,GACtCA,mBADsC,GAEtC,yCAFJ;;AAIA,QAAI,CAACO,cAAL,EAAqB;AACnBX,MAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,QAAAA,OAAO,EAAE;AADU,OAArB;AAGA;AACD;;AAED,UAAMC,MAAM,GAAG,MAAMlB,iBAAiB,EAAtC;AAEA,UAAMmB,EAAE,GAAGD,MAAM,CAACC,EAAP,EAAX;AAEA,UAAMC,MAAM,GAAG,MAAMD,EAAE,CAACE,UAAH,CAAc,oBAAd,EAAoCC,SAApC,CAA8C;AACjER,MAAAA,cADiE;AAEjEN,MAAAA,SAFiE;AAGjEC,MAAAA,MAHiE;AAIjEC,MAAAA,QAJiE;AAKjEC,MAAAA,QALiE;AAMjEY,MAAAA,iBAAiB,EAAEX,gBAN8C;AAOjEC,MAAAA;AAPiE,KAA9C,CAArB;AAUAV,IAAAA,GAAG,CACAY,MADH,CACU,GADV,EAEGC,IAFH,CAEQ;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAFR;AAGD;;AAED,MAAIf,GAAG,CAACE,MAAJ,KAAe,KAAnB,EAA0B;AACxB;AACD;AACF;;AAED,eAAeH,OAAf","sourcesContent":["import { connectToDatabase } from \"../../../lib/db\";\r\nasync function handler(req, res) {\r\n  if (req.method === \"POST\") {\r\n    const data = req.body;\r\n\r\n    const {\r\n      enteredInformations,\r\n      ItemTitle,\r\n      PostID,\r\n      PosterID,\r\n      Question,\r\n      combinedDateTime,\r\n      Answer,\r\n    } = data;\r\n\r\n    const enteredContact = enteredInformations\r\n      ? enteredInformations\r\n      : \"Responder has nullified the validation.\";\r\n\r\n    if (!enteredContact) {\r\n      res.status(422).json({\r\n        message: \"Please Enter Contact details\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    const client = await connectToDatabase();\r\n\r\n    const db = client.db();\r\n\r\n    const result = await db.collection(\"ValidationResponse\").insertOne({\r\n      enteredContact,\r\n      ItemTitle,\r\n      PostID,\r\n      PosterID,\r\n      Question,\r\n      ValidatorDateTime: combinedDateTime,\r\n      Answer,\r\n    });\r\n\r\n    res\r\n      .status(201)\r\n      .json({ message: \"Contact Information stored successfully\" });\r\n  }\r\n\r\n  if (req.method === \"GET\") {\r\n    return;\r\n  }\r\n}\r\n\r\nexport default handler;\r\n"]},"metadata":{},"sourceType":"module"}