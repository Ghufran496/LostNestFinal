{"ast":null,"code":"import _regeneratorRuntime from \"G:/FYP/LostNestfyp/lostnestprj/node_modules/@babel/runtime/regenerator\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _asyncToGenerator from \"G:/FYP/LostNestfyp/lostnestprj/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { Fragment } from \"react\";\nimport classes from \"./ContactForm.module.css\";\nimport Button from \"../UI/Button\";\nimport { useRef, useState } from \"react\";\nimport Loading from \"../UI/Loading\";\nimport Footer from \"../Global/Footer\";\nimport ErrorComp from \"../UI/ErrorComp\";\n\nfunction ContactForm() {\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(false),\n      isError = _useState2[0],\n      setIsError = _useState2[1];\n\n  var _useState3 = useState(\"Sorry but the page you are looking for does not exist.\"),\n      isErrorData = _useState3[0],\n      setIsErrorData = _useState3[1];\n\n  var contactEmailInputRef = useRef();\n  var contactMessageInputRef = useRef();\n  var contactNameInputRef = useRef();\n\n  function sendMessage(_x, _x2, _x3) {\n    return _sendMessage.apply(this, arguments);\n  }\n\n  function _sendMessage() {\n    _sendMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(email, message, enteredName) {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"/api/contactForm/message\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                  email: email,\n                  message: message,\n                  enteredName: enteredName\n                }),\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                }\n              });\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              data = _context.sent;\n\n              if (!response.ok) {\n                setIsErrorData(data.message);\n                setIsLoading(false);\n                setIsError(true);\n              }\n\n              return _context.abrupt(\"return\", data);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _sendMessage.apply(this, arguments);\n  }\n\n  function submitHandler(_x4) {\n    return _submitHandler.apply(this, arguments);\n  }\n\n  function _submitHandler() {\n    _submitHandler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event) {\n      var enteredEmail, enteredMessage, enteredName, result;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              event.preventDefault();\n              setIsLoading(true);\n              enteredEmail = contactEmailInputRef.current.value;\n              enteredMessage = contactMessageInputRef.current.value;\n              enteredName = contactNameInputRef.current.value;\n              _context2.next = 7;\n              return sendMessage(enteredEmail, enteredMessage, enteredName);\n\n            case 7:\n              result = _context2.sent;\n              setIsLoading(false);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _submitHandler.apply(this, arguments);\n  }\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsx(Loading, {});\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsx(ErrorComp, {\n      errorData: isErrorData\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"section\", {\n      className: classes.totalcontactform,\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: classes.contacttitle,\n        children: [/*#__PURE__*/_jsx(\"h6\", {\n          className: classes.sectionheading,\n          children: \"Contact Form\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          children: \"If there is something you want to suggest or simply want to say hello, do reach out.\"\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: classes.contactform,\n        children: /*#__PURE__*/_jsxs(\"form\", {\n          onSubmit: submitHandler,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            children: [/*#__PURE__*/_jsx(\"label\", {\n              \"for\": \"field1\",\n              children: \"Name :\"\n            }), /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              name: \"field1\",\n              placeholder: \"Enter name\",\n              ref: contactNameInputRef,\n              required: true\n            }), /*#__PURE__*/_jsx(\"label\", {\n              \"for\": \"field2\",\n              children: \"Email address :\"\n            }), /*#__PURE__*/_jsx(\"input\", {\n              type: \"email\",\n              name: \"field2\",\n              placeholder: \"Enter email\",\n              ref: contactEmailInputRef,\n              required: true\n            }), /*#__PURE__*/_jsx(\"label\", {\n              \"for\": \"description\",\n              children: \"Message :\"\n            }), /*#__PURE__*/_jsx(\"textarea\", {\n              type: \"text\",\n              name: \"description\",\n              rows: \"4\",\n              cols: \"5\",\n              ref: contactMessageInputRef,\n              required: true\n            })]\n          }), /*#__PURE__*/_jsx(Button, {\n            content: \"Submit\"\n          })]\n        })\n      })]\n    }), /*#__PURE__*/_jsx(Footer, {})]\n  });\n}\n\nexport default ContactForm;","map":null,"metadata":{},"sourceType":"module"}