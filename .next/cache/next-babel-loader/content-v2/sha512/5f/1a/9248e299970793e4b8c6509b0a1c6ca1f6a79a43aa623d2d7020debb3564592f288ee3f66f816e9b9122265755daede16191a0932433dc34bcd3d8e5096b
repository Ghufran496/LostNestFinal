{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { Fragment } from \"react\";\nimport classes from \"./ContactForm.module.css\";\nimport Button from \"../UI/Button\";\nimport { useRef, useState } from \"react\";\nimport Loading from \"../UI/Loading\";\nimport Footer from \"../Global/Footer\";\nimport ErrorComp from \"../UI/ErrorComp\";\n\nfunction ContactForm() {\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: isError,\n    1: setIsError\n  } = useState(false);\n  const {\n    0: isErrorData,\n    1: setIsErrorData\n  } = useState(\"Sorry but the page you are looking for does not exist.\");\n  const contactEmailInputRef = useRef();\n  const contactMessageInputRef = useRef();\n  const contactNameInputRef = useRef();\n\n  async function sendMessage(email, message, enteredName) {\n    const response = await fetch(\"/api/contactForm/message\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email,\n        message,\n        enteredName\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await response.json();\n\n    if (!response.ok) {\n      setIsErrorData(data.message);\n      setIsLoading(false);\n      setIsError(true);\n    }\n\n    return data;\n  }\n\n  async function submitHandler(event) {\n    event.preventDefault();\n    setIsLoading(true);\n    const enteredEmail = contactEmailInputRef.current.value;\n    const enteredMessage = contactMessageInputRef.current.value;\n    const enteredName = contactNameInputRef.current.value;\n    const result = await sendMessage(enteredEmail, enteredMessage, enteredName);\n    setIsLoading(false);\n  }\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsx(Loading, {});\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsx(ErrorComp, {\n      errorData: isErrorData\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"section\", {\n      className: classes.totalcontactform,\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: classes.contacttitle,\n        children: [/*#__PURE__*/_jsx(\"h6\", {\n          className: classes.sectionheading,\n          children: \"Contact Form\"\n        }), /*#__PURE__*/_jsx(\"p\", {\n          children: \"If there is something you want to suggest or simply want to say hello, do reach out.\"\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: classes.contactform,\n        children: /*#__PURE__*/_jsxs(\"form\", {\n          onSubmit: submitHandler,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            children: [/*#__PURE__*/_jsx(\"label\", {\n              for: \"field1\",\n              children: \"Name :\"\n            }), /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              name: \"field1\",\n              placeholder: \"Enter name\",\n              ref: contactNameInputRef,\n              required: true\n            }), /*#__PURE__*/_jsx(\"label\", {\n              for: \"field2\",\n              children: \"Email address :\"\n            }), /*#__PURE__*/_jsx(\"input\", {\n              type: \"email\",\n              name: \"field2\",\n              placeholder: \"Enter email\",\n              ref: contactEmailInputRef,\n              required: true\n            }), /*#__PURE__*/_jsx(\"label\", {\n              for: \"description\",\n              children: \"Message :\"\n            }), /*#__PURE__*/_jsx(\"textarea\", {\n              type: \"text\",\n              name: \"description\",\n              rows: \"4\",\n              cols: \"5\",\n              ref: contactMessageInputRef,\n              required: true\n            })]\n          }), /*#__PURE__*/_jsx(Button, {\n            content: \"Submit\"\n          })]\n        })\n      })]\n    }), /*#__PURE__*/_jsx(Footer, {})]\n  });\n}\n\nexport default ContactForm;","map":null,"metadata":{},"sourceType":"module"}