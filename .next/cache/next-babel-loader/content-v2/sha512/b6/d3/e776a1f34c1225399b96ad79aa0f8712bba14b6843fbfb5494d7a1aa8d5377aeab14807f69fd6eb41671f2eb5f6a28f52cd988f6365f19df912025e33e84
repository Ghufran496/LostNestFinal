{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport PostGrid from \"./PostGrid\";\nimport ErrorComp from \"../UI/ErrorComp\";\nimport Loading from \"../UI/Loading\";\n\nfunction AllItems() {\n  var _useState = useState(\"\"),\n      isData = _useState[0],\n      setIsData = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      isError = _useState3[0],\n      setIsError = _useState3[1];\n\n  var _useState4 = useState(\"Sorry but the page you are looking for does not exist.\"),\n      isErrorData = _useState4[0],\n      setIsErrorData = _useState4[1];\n\n  useEffect(function () {\n    var isMounted = true; // Flag to track if the component is mounted\n\n    setIsLoading(true);\n    fetch(\"/api/post/postitem\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      //console.log(\"data in client\" + data);\n      if (isMounted) {\n        setIsData(data);\n\n        if (data.message) {\n          setIsErrorData(data.message);\n          setIsError(true);\n        }\n\n        setIsLoading(false);\n      }\n    })[\"catch\"](function (error) {\n      if (isMounted) {\n        setIsError(true);\n        setIsErrorData(\"An error occurred while fetching data.\");\n        setIsLoading(false);\n      }\n\n      console.error(\"Fetch error:\", error);\n    }); //Cleanup function\n\n    return function () {\n      isMounted = false; // Set flag to false when component is unmounted\n    };\n  }, []);\n\n  if (isError) {\n    return /*#__PURE__*/_jsx(ErrorComp, {\n      errorData: isErrorData\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [isData.length === 0 && !isLoading ? /*#__PURE__*/_jsx(\"p\", {\n      style: {\n        fontSize: \"2rem\",\n        display: \"flex\",\n        marginTop: \"1rem\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: \"No Posts Found...\"\n    }) : /*#__PURE__*/_jsx(PostGrid, {\n      data: isData\n    }), isLoading && /*#__PURE__*/_jsx(Loading, {})]\n  });\n} // {\n//   /* <PostGrid data={isData} />\n//       {isLoading && <Loading />} */\n// }\n\n\nexport default AllItems;","map":null,"metadata":{},"sourceType":"module"}