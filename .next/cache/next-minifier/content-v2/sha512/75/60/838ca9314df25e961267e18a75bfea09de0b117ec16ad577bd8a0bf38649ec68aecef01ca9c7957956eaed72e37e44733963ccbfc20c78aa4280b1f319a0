{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{\"HaE+\":function(e,t,r){\"use strict\";function n(e,t,r,n,s,a,c){try{var i=e[a](c),o=i.value}catch(error){return void r(error)}i.done?t(o):Promise.resolve(o).then(n,s)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(s,a){var c=e.apply(t,r);function i(e){n(c,s,a,i,o,\"next\",e)}function o(e){n(c,s,a,i,o,\"throw\",e)}i(void 0)}))}}r.d(t,\"a\",(function(){return s}))},HtBt:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/postlostitem\",function(){return r(\"q0oe\")}])},IHJn:function(e,t,r){e.exports={center:\"PostItem_center__bptI4\"}},gUSQ:function(e,t,r){e.exports={formstyle3:\"PostNewItem_formstyle3__3srno\",divider:\"PostNewItem_divider__j8TdT\",center:\"PostNewItem_center__1PBNl\",customselect:\"PostNewItem_customselect__21m3O\",required:\"PostNewItem_required__3tDwJ\"}},q0oe:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"__N_SSP\",(function(){return O}));var n=r(\"nKUr\"),s=r(\"q1tI\"),a=r(\"IHJn\"),c=r.n(a),i=r(\"g4pe\"),o=r.n(i),l=r(\"o0o1\"),u=r.n(l),d=r(\"HaE+\"),j=r(\"gUSQ\"),p=r.n(j),b=r(\"WiO3\"),h=r(\"VTlJ\"),m=r(\"8RxE\");var f=function(){var e=Object(s.useState)(!1),t=e[0],r=e[1],a=Object(s.useState)(\"\"),c=a[0],i=a[1],o=Object(s.useState)(!1),l=o[0],j=o[1],f=Object(s.useState)(\"Sorry but the page you are looking for does not exist.\"),O=f[0],x=f[1],v=Object(s.useRef)(),_=Object(s.useRef)(),y=Object(s.useRef)(),g=Object(s.useRef)(),N=Object(s.useRef)(),w=Object(s.useRef)();function S(e,t,r,n,s,a,c){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(u.a.mark((function e(t,n,s,a,c,i,o){var l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"/api/post/postitem\",{method:\"POST\",body:JSON.stringify({Type:t,Category:n,Title:s,Description:a,Question:c,Date:i,ReducedImg:o}),headers:{\"Content-Type\":\"application/json\"}});case 2:return l=e.sent,e.next=5,l.json();case 5:return d=e.sent,l.ok||(x(d.message),r(!1),j(!0)),e.abrupt(\"return\",d);case 8:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,s,a,o,l,d,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(!0),n=v.current.value,s=_.current.value,a=y.current.value,o=g.current.value,l=N.current.value,d=w.current.value,j=new Date(d).toLocaleDateString(\"en-US\",{day:\"numeric\",month:\"long\",year:\"numeric\"}),e.next=11,S(n,s,a,o,l,j,c);case 11:e.sent,t.target.reset(),i(\"\"),r(!1);case 15:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t?Object(n.jsx)(h.a,{}):l?Object(n.jsx)(m.a,{errorData:O}):Object(n.jsx)(\"div\",{className:p.a.formstyle3,children:Object(n.jsxs)(\"form\",{onSubmit:q,children:[Object(n.jsxs)(\"fieldset\",{children:[Object(n.jsx)(\"legend\",{children:\"Data\"}),Object(n.jsxs)(\"div\",{className:p.a.divider,children:[Object(n.jsx)(\"select\",{name:\"item\",className:p.a.inputfield,ref:v,children:Object(n.jsx)(\"option\",{value:\"Lost\",children:\"Lost\"})}),Object(n.jsxs)(\"select\",{defaultValue:\"Category\",name:\"category\",className:p.a.inputfield,ref:_,required:!0,children:[Object(n.jsx)(\"option\",{value:\"Category\",disabled:!0,children:\"Category\"}),Object(n.jsx)(\"option\",{value:\"Wallet\",children:\"Wallet\"}),Object(n.jsx)(\"option\",{value:\"ID Card / Student Card\",children:\"ID Card / Student Card\"}),Object(n.jsx)(\"option\",{value:\"Smart Phone / Laptop\",children:\"Smart Phone / Laptop\"}),Object(n.jsx)(\"option\",{value:\"Keys\",children:\"Keys\"}),Object(n.jsx)(\"option\",{value:\"Others\",children:\"Others\"})]})]}),Object(n.jsxs)(\"label\",{htmlFor:\"field3\",children:[Object(n.jsxs)(\"span\",{children:[\"Item Name \",Object(n.jsx)(\"span\",{className:p.a.required,children:\"*\"})]}),Object(n.jsx)(\"input\",{type:\"text\",name:\"field3\",placeholder:\"Title\",className:p.a.inputfield,ref:y,required:!0})]}),Object(n.jsxs)(\"label\",{htmlFor:\"field4\",children:[Object(n.jsxs)(\"span\",{children:[\"Enter question based on an item.\",Object(n.jsx)(\"span\",{className:p.a.required,children:\"*\"})]}),Object(n.jsx)(\"input\",{type:\"text\",name:\"field4\",placeholder:\"Ex:- What is the color of the phone?\",className:p.a.inputfield,ref:N,required:!0})]}),Object(n.jsxs)(\"label\",{htmlFor:\"date\",children:[Object(n.jsxs)(\"span\",{children:[\"Select a Date: \",Object(n.jsx)(\"span\",{className:p.a.required,children:\"*\"})]}),Object(n.jsx)(\"input\",{type:\"date\",name:\"date\",id:\"date\",className:p.a.customselect,ref:w,required:!0})]})]}),Object(n.jsxs)(\"fieldset\",{children:[Object(n.jsx)(\"legend\",{children:\"Details\"}),Object(n.jsxs)(\"label\",{htmlFor:\"description\",children:[Object(n.jsxs)(\"span\",{children:[\"Description \",Object(n.jsx)(\"span\",{className:p.a.required,children:\"*\"})]}),Object(n.jsx)(\"textarea\",{type:\"text\",name:\"description\",placeholder:\"Description about item (like location etc...)\",className:p.a.textareafield,ref:g,required:!0})]}),Object(n.jsx)(\"input\",{type:\"file\",id:\"image\",name:\"image\",accept:\"image/*\",className:p.a.customselect,style:{width:\"100%\"},onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(){i(t.result)},t.onerror=function(){console.log(\"error\",error)}},required:!0}),Object(n.jsx)(\"div\",{className:p.a.center,children:Object(n.jsx)(b.a,{content:\"Post\"})})]})]})})};var O=!0;t.default=function(){return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsxs)(o.a,{children:[Object(n.jsx)(\"title\",{children:\"Post Lost Item\"}),Object(n.jsx)(\"meta\",{name:\"description\",content:\"If you have Lost anything post here\"}),Object(n.jsx)(\"link\",{rel:\"icon\",href:\"/images/logos.png\"})]}),Object(n.jsx)(\"div\",{className:c.a.center,children:Object(n.jsx)(f,{})})]})}}},[[\"HtBt\",0,1,2,3,4]]]);","map":{"version":3,"sources":["static/chunks/pages/postlostitem-70553e9f14430917b326.js"],"names":["_N_E","window","push","HaE+","module","__webpack_exports__","__webpack_require__","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","d","HtBt","exports","__NEXT_P","IHJn","center","gUSQ","formstyle3","divider","customselect","required","q0oe","r","__N_SSP","jsx_runtime","react","PostItem_module","PostItem_module_default","n","head","head_default","regenerator","regenerator_default","asyncToGenerator","PostNewItem_module","PostNewItem_module_default","Button","Loading","ErrorComp","postcomp_PostNewItem","_useState","Object","isLoading","setIsLoading","_useState2","isImage","setIsImage","_useState3","isError","setIsError","_useState4","isErrorData","setIsErrorData","typeInputRef","categoryInputRef","titleInputRef","descriptionInputRef","questionInputRef","dateInputRef","sendPostData","_x","_x2","_x3","_x4","_x5","_x6","_x7","_sendPostData","a","mark","_callee2","Type","Category","Title","Description","Question","Date","imageInbase64","response","data","wrap","_context2","prev","next","fetch","method","body","JSON","stringify","ReducedImg","headers","Content-Type","sent","json","ok","message","abrupt","stop","postSubmitHandler","_ref","_callee","event","enteredType","enteredCategory","enteredTitle","enteredDescription","enteredQuestion","enteredDate","humanReadableDate","_context","preventDefault","current","toLocaleDateString","day","month","year","target","reset","_x8","errorData","className","children","onSubmit","name","inputfield","ref","defaultValue","disabled","htmlFor","type","placeholder","id","textareafield","accept","style","width","onChange","e","reader","FileReader","readAsDataURL","files","onload","result","onerror","console","log","content","rel","href"],"mappings":"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"},"name":"static/chunks/pages/postlostitem-70553e9f14430917b326.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[18],{\n\n/***/ \"HaE+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _asyncToGenerator; });\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\n/***/ }),\n\n/***/ \"HtBt\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/postlostitem\",\n        function () {\n          return __webpack_require__(\"q0oe\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"IHJn\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"center\":\"PostItem_center__bptI4\"};\n\n/***/ }),\n\n/***/ \"gUSQ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"formstyle3\":\"PostNewItem_formstyle3__3srno\",\"divider\":\"PostNewItem_divider__j8TdT\",\"center\":\"PostNewItem_center__1PBNl\",\"customselect\":\"PostNewItem_customselect__21m3O\",\"required\":\"PostNewItem_required__3tDwJ\"};\n\n/***/ }),\n\n/***/ \"q0oe\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return /* binding */ __N_SSP; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./pages/postlostitem/PostItem.module.css\nvar PostItem_module = __webpack_require__(\"IHJn\");\nvar PostItem_module_default = /*#__PURE__*/__webpack_require__.n(PostItem_module);\n\n// EXTERNAL MODULE: ./node_modules/next/head.js\nvar head = __webpack_require__(\"g4pe\");\nvar head_default = /*#__PURE__*/__webpack_require__.n(head);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"o0o1\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"HaE+\");\n\n// EXTERNAL MODULE: ./components/postcomp/PostNewItem.module.css\nvar PostNewItem_module = __webpack_require__(\"gUSQ\");\nvar PostNewItem_module_default = /*#__PURE__*/__webpack_require__.n(PostNewItem_module);\n\n// EXTERNAL MODULE: ./components/UI/Button.js\nvar Button = __webpack_require__(\"WiO3\");\n\n// EXTERNAL MODULE: ./components/UI/Loading.js\nvar Loading = __webpack_require__(\"VTlJ\");\n\n// EXTERNAL MODULE: ./components/UI/ErrorComp.js\nvar ErrorComp = __webpack_require__(\"8RxE\");\n\n// CONCATENATED MODULE: ./components/postcomp/PostNewItem.js\n\n\n\n\n\n\n\n\n\n // async function sendPostData(\n//   Type,\n//   Category,\n//   Title,\n//   Description,\n//   Question,\n//   Date,\n//   imageInbase64\n// ) {\n//   const response = await fetch(\"/api/post/postitem\", {\n//     method: \"POST\",\n//     body: JSON.stringify({\n//       Type,\n//       Category,\n//       Title,\n//       Description,\n//       Question,\n//       Date,\n//       ReducedImg: imageInbase64,\n//     }),\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//   });\n//   const data = await response.json();\n//   if (!response.ok) {\n//     throw new Error(data.message || \"Something went wrong!\");\n//   }\n//   return data;\n// }\n\nfunction PostNewItem() {\n  var _useState = Object(react[\"useState\"])(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = Object(react[\"useState\"])(\"\"),\n      isImage = _useState2[0],\n      setIsImage = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])(false),\n      isError = _useState3[0],\n      setIsError = _useState3[1];\n\n  var _useState4 = Object(react[\"useState\"])(\"Sorry but the page you are looking for does not exist.\"),\n      isErrorData = _useState4[0],\n      setIsErrorData = _useState4[1];\n\n  var typeInputRef = Object(react[\"useRef\"])();\n  var categoryInputRef = Object(react[\"useRef\"])();\n  var titleInputRef = Object(react[\"useRef\"])();\n  var descriptionInputRef = Object(react[\"useRef\"])();\n  var questionInputRef = Object(react[\"useRef\"])();\n  var dateInputRef = Object(react[\"useRef\"])();\n\n  function sendPostData(_x, _x2, _x3, _x4, _x5, _x6, _x7) {\n    return _sendPostData.apply(this, arguments);\n  }\n\n  function _sendPostData() {\n    _sendPostData = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(Type, Category, Title, Description, Question, Date, imageInbase64) {\n      var response, data;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch(\"/api/post/postitem\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                  Type: Type,\n                  Category: Category,\n                  Title: Title,\n                  Description: Description,\n                  Question: Question,\n                  Date: Date,\n                  ReducedImg: imageInbase64\n                }),\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                }\n              });\n\n            case 2:\n              response = _context2.sent;\n              _context2.next = 5;\n              return response.json();\n\n            case 5:\n              data = _context2.sent;\n\n              if (!response.ok) {\n                setIsErrorData(data.message);\n                setIsLoading(false);\n                setIsError(true);\n              }\n\n              return _context2.abrupt(\"return\", data);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _sendPostData.apply(this, arguments);\n  }\n\n  function converttobase64(e) {\n    // console.log(e);\n    var reader = new FileReader();\n    reader.readAsDataURL(e.target.files[0]);\n\n    reader.onload = function () {\n      //console.log(reader.result);\n      setIsImage(reader.result);\n    };\n\n    reader.onerror = function () {\n      console.log(\"error\", error);\n    };\n  }\n\n  var postSubmitHandler = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(event) {\n      var enteredType, enteredCategory, enteredTitle, enteredDescription, enteredQuestion, enteredDate, humanReadableDate, result;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              setIsLoading(true);\n              enteredType = typeInputRef.current.value;\n              enteredCategory = categoryInputRef.current.value;\n              enteredTitle = titleInputRef.current.value;\n              enteredDescription = descriptionInputRef.current.value;\n              enteredQuestion = questionInputRef.current.value;\n              enteredDate = dateInputRef.current.value;\n              humanReadableDate = new Date(enteredDate).toLocaleDateString(\"en-US\", {\n                day: \"numeric\",\n                month: \"long\",\n                year: \"numeric\"\n              });\n              _context.next = 11;\n              return sendPostData(enteredType, enteredCategory, enteredTitle, enteredDescription, enteredQuestion, humanReadableDate, isImage);\n\n            case 11:\n              result = _context.sent;\n              event.target.reset(); // This resets the form\n\n              setIsImage(\"\"); // Clear the image state\n\n              setIsLoading(false);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function postSubmitHandler(_x8) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  if (isLoading) {\n    return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loading[\"a\" /* default */], {});\n  }\n\n  if (isError) {\n    return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ErrorComp[\"a\" /* default */], {\n      errorData: isErrorData\n    });\n  }\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n    className: PostNewItem_module_default.a.formstyle3,\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\", {\n      onSubmit: postSubmitHandler,\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\", {\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\", {\n          children: \"Data\"\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n          className: PostNewItem_module_default.a.divider,\n          children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\", {\n            name: \"item\",\n            className: PostNewItem_module_default.a.inputfield,\n            ref: typeInputRef,\n            children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\", {\n              value: \"Lost\",\n              children: \"Lost\"\n            })\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\", {\n            defaultValue: \"Category\",\n            name: \"category\",\n            className: PostNewItem_module_default.a.inputfield,\n            ref: categoryInputRef,\n            required: true,\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\", {\n              value: \"Category\",\n              disabled: true,\n              children: \"Category\"\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\", {\n              value: \"Wallet\",\n              children: \"Wallet\"\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\", {\n              value: \"ID Card / Student Card\",\n              children: \"ID Card / Student Card\"\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\", {\n              value: \"Smart Phone / Laptop\",\n              children: \"Smart Phone / Laptop\"\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\", {\n              value: \"Keys\",\n              children: \"Keys\"\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\", {\n              value: \"Others\",\n              children: \"Others\"\n            })]\n          })]\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n          htmlFor: \"field3\",\n          children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\", {\n            children: [\"Item Name \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n              className: PostNewItem_module_default.a.required,\n              children: \"*\"\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n            type: \"text\",\n            name: \"field3\",\n            placeholder: \"Title\",\n            className: PostNewItem_module_default.a.inputfield,\n            ref: titleInputRef,\n            required: true\n          })]\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n          htmlFor: \"field4\",\n          children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\", {\n            children: [\"Enter question based on an item.\", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n              className: PostNewItem_module_default.a.required,\n              children: \"*\"\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n            type: \"text\",\n            name: \"field4\",\n            placeholder: \"Ex:- What is the color of the phone?\",\n            className: PostNewItem_module_default.a.inputfield,\n            ref: questionInputRef,\n            required: true\n          })]\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n          htmlFor: \"date\",\n          children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\", {\n            children: [\"Select a Date: \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n              className: PostNewItem_module_default.a.required,\n              children: \"*\"\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n            type: \"date\",\n            name: \"date\",\n            id: \"date\",\n            className: PostNewItem_module_default.a.customselect,\n            ref: dateInputRef,\n            required: true\n          })]\n        })]\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\", {\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"legend\", {\n          children: \"Details\"\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n          htmlFor: \"description\",\n          children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\", {\n            children: [\"Description \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n              className: PostNewItem_module_default.a.required,\n              children: \"*\"\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\", {\n            type: \"text\",\n            name: \"description\",\n            placeholder: \"Description about item (like location etc...)\",\n            className: PostNewItem_module_default.a.textareafield,\n            ref: descriptionInputRef,\n            required: true\n          })]\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n          type: \"file\",\n          id: \"image\",\n          name: \"image\",\n          accept: \"image/*\",\n          className: PostNewItem_module_default.a.customselect,\n          style: {\n            width: \"100%\"\n          },\n          onChange: converttobase64,\n          required: true\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n          className: PostNewItem_module_default.a.center,\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */], {\n            content: \"Post\"\n          })\n        })]\n      })]\n    })\n  });\n}\n\n/* harmony default export */ var postcomp_PostNewItem = (PostNewItem);\n// CONCATENATED MODULE: ./pages/postlostitem/index.js\n\n\n\n\n\n\n\nfunction PostItem() {\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(head_default.a, {\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"title\", {\n        children: \"Post Lost Item\"\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meta\", {\n        name: \"description\",\n        content: \"If you have Lost anything post here\"\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"link\", {\n        rel: \"icon\",\n        href: \"/images/logos.png\"\n      })]\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      className: PostItem_module_default.a.center,\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(postcomp_PostNewItem, {})\n    })]\n  });\n}\n\nvar __N_SSP = true;\n/* harmony default export */ var postlostitem = __webpack_exports__[\"default\"] = (PostItem);\n\n/***/ })\n\n},[[\"HtBt\",0,1,2,3,4]]]);","inputSourceMap":{"version":3,"sources":["G:\\FYP\\LostNestfyp\\lostnestprj\\node_modules\\@babel\\runtime\\helpers\\esm\\asyncToGenerator.js","G:\\FYP\\LostNestfyp\\lostnestprj\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fpostlostitem&absolutePagePath=private-next-pages%2Fpostlostitem%2Findex.js!","G:\\FYP\\LostNestfyp\\lostnestprj\\node_modules\\next\\dist\\build\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--5-oneOf-2-0!G:\\FYP\\LostNestfyp\\lostnestprj\\node_modules\\next\\dist\\compiled\\css-loader\\cjs.js??ref--5-oneOf-2-1!G:\\FYP\\LostNestfyp\\lostnestprj\\node_modules\\next\\dist\\compiled\\postcss-loader\\cjs.js??ref--5-oneOf-2-2!G:\\FYP\\LostNestfyp\\lostnestprj\\pages\\postlostitem\\PostItem.module.css","G:\\FYP\\LostNestfyp\\lostnestprj\\node_modules\\next\\dist\\build\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--5-oneOf-2-0!G:\\FYP\\LostNestfyp\\lostnestprj\\node_modules\\next\\dist\\compiled\\css-loader\\cjs.js??ref--5-oneOf-2-1!G:\\FYP\\LostNestfyp\\lostnestprj\\node_modules\\next\\dist\\compiled\\postcss-loader\\cjs.js??ref--5-oneOf-2-2!G:\\FYP\\LostNestfyp\\lostnestprj\\components\\postcomp\\PostNewItem.module.css","G:\\FYP\\LostNestfyp\\lostnestprj\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!G:\\FYP\\LostNestfyp\\lostnestprj\\components\\postcomp\\PostNewItem.js","G:\\FYP\\LostNestfyp\\lostnestprj\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!G:\\FYP\\LostNestfyp\\lostnestprj\\pages\\postlostitem\\index.js"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,C;;;;;;;;ACjCA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAA0C;AACnE;AACA;;;;;;;;ACNA;AACA,kBAAkB,mC;;;;;;;ACDlB;AACA,kBAAkB,oN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDgC;AACF;AACyD;AACe;AACzE;AACrB;AACQ;AACO;AACL;AACI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,yBAAQ;AAC1B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,qBAAqB,uBAAM;AAC3B,yBAAyB,uBAAM;AAC/B,sBAAsB,uBAAM;AAC5B,4BAA4B,uBAAM;AAClC,yBAAyB,uBAAM;AAC/B,qBAAqB,uBAAM;;AAE3B;AACA;AACA;;AAEA;AACA,oBAAoB,2CAAiB,eAAe,qBAAmB;AACvE;AACA,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAe,2CAAiB,eAAe,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","file":"x","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/postlostitem\",\n        function () {\n          return require(\"private-next-pages/postlostitem/index.js\");\n        }\n      ]);\n    ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"center\":\"PostItem_center__bptI4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formstyle3\":\"PostNewItem_formstyle3__3srno\",\"divider\":\"PostNewItem_divider__j8TdT\",\"center\":\"PostNewItem_center__1PBNl\",\"customselect\":\"PostNewItem_customselect__21m3O\",\"required\":\"PostNewItem_required__3tDwJ\"};","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"G:/FYP/LostNestfyp/lostnestprj/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"G:/FYP/LostNestfyp/lostnestprj/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport classes from \"./PostNewItem.module.css\";\nimport React from \"react\";\nimport Button from \"../UI/Button\";\nimport { useRef, useState } from \"react\";\nimport Loading from \"../UI/Loading\";\nimport ErrorComp from \"../UI/ErrorComp\"; // async function sendPostData(\n//   Type,\n//   Category,\n//   Title,\n//   Description,\n//   Question,\n//   Date,\n//   imageInbase64\n// ) {\n//   const response = await fetch(\"/api/post/postitem\", {\n//     method: \"POST\",\n//     body: JSON.stringify({\n//       Type,\n//       Category,\n//       Title,\n//       Description,\n//       Question,\n//       Date,\n//       ReducedImg: imageInbase64,\n//     }),\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//   });\n//   const data = await response.json();\n//   if (!response.ok) {\n//     throw new Error(data.message || \"Something went wrong!\");\n//   }\n//   return data;\n// }\n\nfunction PostNewItem() {\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      isImage = _useState2[0],\n      setIsImage = _useState2[1];\n\n  var _useState3 = useState(false),\n      isError = _useState3[0],\n      setIsError = _useState3[1];\n\n  var _useState4 = useState(\"Sorry but the page you are looking for does not exist.\"),\n      isErrorData = _useState4[0],\n      setIsErrorData = _useState4[1];\n\n  var typeInputRef = useRef();\n  var categoryInputRef = useRef();\n  var titleInputRef = useRef();\n  var descriptionInputRef = useRef();\n  var questionInputRef = useRef();\n  var dateInputRef = useRef();\n\n  function sendPostData(_x, _x2, _x3, _x4, _x5, _x6, _x7) {\n    return _sendPostData.apply(this, arguments);\n  }\n\n  function _sendPostData() {\n    _sendPostData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(Type, Category, Title, Description, Question, Date, imageInbase64) {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch(\"/api/post/postitem\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                  Type: Type,\n                  Category: Category,\n                  Title: Title,\n                  Description: Description,\n                  Question: Question,\n                  Date: Date,\n                  ReducedImg: imageInbase64\n                }),\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                }\n              });\n\n            case 2:\n              response = _context2.sent;\n              _context2.next = 5;\n              return response.json();\n\n            case 5:\n              data = _context2.sent;\n\n              if (!response.ok) {\n                setIsErrorData(data.message);\n                setIsLoading(false);\n                setIsError(true);\n              }\n\n              return _context2.abrupt(\"return\", data);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _sendPostData.apply(this, arguments);\n  }\n\n  function converttobase64(e) {\n    // console.log(e);\n    var reader = new FileReader();\n    reader.readAsDataURL(e.target.files[0]);\n\n    reader.onload = function () {\n      //console.log(reader.result);\n      setIsImage(reader.result);\n    };\n\n    reader.onerror = function () {\n      console.log(\"error\", error);\n    };\n  }\n\n  var postSubmitHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var enteredType, enteredCategory, enteredTitle, enteredDescription, enteredQuestion, enteredDate, humanReadableDate, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              setIsLoading(true);\n              enteredType = typeInputRef.current.value;\n              enteredCategory = categoryInputRef.current.value;\n              enteredTitle = titleInputRef.current.value;\n              enteredDescription = descriptionInputRef.current.value;\n              enteredQuestion = questionInputRef.current.value;\n              enteredDate = dateInputRef.current.value;\n              humanReadableDate = new Date(enteredDate).toLocaleDateString(\"en-US\", {\n                day: \"numeric\",\n                month: \"long\",\n                year: \"numeric\"\n              });\n              _context.next = 11;\n              return sendPostData(enteredType, enteredCategory, enteredTitle, enteredDescription, enteredQuestion, humanReadableDate, isImage);\n\n            case 11:\n              result = _context.sent;\n              event.target.reset(); // This resets the form\n\n              setIsImage(\"\"); // Clear the image state\n\n              setIsLoading(false);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function postSubmitHandler(_x8) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsx(Loading, {});\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsx(ErrorComp, {\n      errorData: isErrorData\n    });\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: classes.formstyle3,\n    children: /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: postSubmitHandler,\n      children: [/*#__PURE__*/_jsxs(\"fieldset\", {\n        children: [/*#__PURE__*/_jsx(\"legend\", {\n          children: \"Data\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: classes.divider,\n          children: [/*#__PURE__*/_jsx(\"select\", {\n            name: \"item\",\n            className: classes.inputfield,\n            ref: typeInputRef,\n            children: /*#__PURE__*/_jsx(\"option\", {\n              value: \"Lost\",\n              children: \"Lost\"\n            })\n          }), /*#__PURE__*/_jsxs(\"select\", {\n            defaultValue: \"Category\",\n            name: \"category\",\n            className: classes.inputfield,\n            ref: categoryInputRef,\n            required: true,\n            children: [/*#__PURE__*/_jsx(\"option\", {\n              value: \"Category\",\n              disabled: true,\n              children: \"Category\"\n            }), /*#__PURE__*/_jsx(\"option\", {\n              value: \"Wallet\",\n              children: \"Wallet\"\n            }), /*#__PURE__*/_jsx(\"option\", {\n              value: \"ID Card / Student Card\",\n              children: \"ID Card / Student Card\"\n            }), /*#__PURE__*/_jsx(\"option\", {\n              value: \"Smart Phone / Laptop\",\n              children: \"Smart Phone / Laptop\"\n            }), /*#__PURE__*/_jsx(\"option\", {\n              value: \"Keys\",\n              children: \"Keys\"\n            }), /*#__PURE__*/_jsx(\"option\", {\n              value: \"Others\",\n              children: \"Others\"\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"label\", {\n          htmlFor: \"field3\",\n          children: [/*#__PURE__*/_jsxs(\"span\", {\n            children: [\"Item Name \", /*#__PURE__*/_jsx(\"span\", {\n              className: classes.required,\n              children: \"*\"\n            })]\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"text\",\n            name: \"field3\",\n            placeholder: \"Title\",\n            className: classes.inputfield,\n            ref: titleInputRef,\n            required: true\n          })]\n        }), /*#__PURE__*/_jsxs(\"label\", {\n          htmlFor: \"field4\",\n          children: [/*#__PURE__*/_jsxs(\"span\", {\n            children: [\"Enter question based on an item.\", /*#__PURE__*/_jsx(\"span\", {\n              className: classes.required,\n              children: \"*\"\n            })]\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"text\",\n            name: \"field4\",\n            placeholder: \"Ex:- What is the color of the phone?\",\n            className: classes.inputfield,\n            ref: questionInputRef,\n            required: true\n          })]\n        }), /*#__PURE__*/_jsxs(\"label\", {\n          htmlFor: \"date\",\n          children: [/*#__PURE__*/_jsxs(\"span\", {\n            children: [\"Select a Date: \", /*#__PURE__*/_jsx(\"span\", {\n              className: classes.required,\n              children: \"*\"\n            })]\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"date\",\n            name: \"date\",\n            id: \"date\",\n            className: classes.customselect,\n            ref: dateInputRef,\n            required: true\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"fieldset\", {\n        children: [/*#__PURE__*/_jsx(\"legend\", {\n          children: \"Details\"\n        }), /*#__PURE__*/_jsxs(\"label\", {\n          htmlFor: \"description\",\n          children: [/*#__PURE__*/_jsxs(\"span\", {\n            children: [\"Description \", /*#__PURE__*/_jsx(\"span\", {\n              className: classes.required,\n              children: \"*\"\n            })]\n          }), /*#__PURE__*/_jsx(\"textarea\", {\n            type: \"text\",\n            name: \"description\",\n            placeholder: \"Description about item (like location etc...)\",\n            className: classes.textareafield,\n            ref: descriptionInputRef,\n            required: true\n          })]\n        }), /*#__PURE__*/_jsx(\"input\", {\n          type: \"file\",\n          id: \"image\",\n          name: \"image\",\n          accept: \"image/*\",\n          className: classes.customselect,\n          style: {\n            width: \"100%\"\n          },\n          onChange: converttobase64,\n          required: true\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: classes.center,\n          children: /*#__PURE__*/_jsx(Button, {\n            content: \"Post\"\n          })\n        })]\n      })]\n    })\n  });\n}\n\nexport default PostNewItem;","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { Fragment } from \"react\";\nimport classes from \"./PostItem.module.css\";\nimport Head from \"next/head\";\nimport PostNewItem from \"../../components/postcomp/PostNewItem\";\n\nfunction PostItem() {\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"Post Lost Item\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: \"If you have Lost anything post here\"\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"icon\",\n        href: \"/images/logos.png\"\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: classes.center,\n      children: /*#__PURE__*/_jsx(PostNewItem, {})\n    })]\n  });\n}\n\nexport var __N_SSP = true;\nexport default PostItem;"]}}