_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{BqnO:function(e,t,n){e.exports={loader:"Loading_loader__3AIAm",jimuprimaryloading:"Loading_jimuprimaryloading__1GHIl","loading-keys-app-loading":"Loading_loading-keys-app-loading__Yl0sI"}},FzaV:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/responses",function(){return n("SwG9")}])},"HaE+":function(e,t,n){"use strict";function r(e,t,n,r,s,a,c){try{var i=e[a](c),o=i.value}catch(l){return void n(l)}i.done?t(o):Promise.resolve(o).then(r,s)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var c=e.apply(t,n);function i(e){r(c,s,a,i,o,"next",e)}function o(e){r(c,s,a,i,o,"throw",e)}i(void 0)}))}}n.d(t,"a",(function(){return s}))},O7lS:function(e,t,n){e.exports={spaner:"ResponseItem_spaner__3Edia",btn:"ResponseItem_btn__2TPjy"}},SwG9:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return h}));var r=n("nKUr"),s=n("q1tI"),a=n("8RxE"),c=n("VTlJ"),i=n("o0o1"),o=n.n(i),l=n("HaE+"),d=n("O7lS"),u=n.n(d),p=function(e){var t=e.data,n=t._id,a=t.enteredContact,c=t.ItemTitle,i=t.PostID,d=(t.PosterID,t.Question),p=t.ValidatorDateTime,j=t.Answer,f=Object(s.useState)(!1),h=f[0],b=f[1],m=Object(s.useState)(!1),x=m[0],g=m[1];function O(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(o.a.mark((function e(t){var n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/answers/deleteResponse",{method:"DELETE",body:JSON.stringify({DeleteResponse:t}),headers:{"Content-Type":"application/json"}});case 3:if((n=e.sent).ok){e.next=9;break}return e.next=7,n.text();case 7:throw r=e.sent,new Error("HTTP error! Status: ".concat(n.status,", Message: ").concat(r));case 9:return e.next=11,n.json();case 11:return s=e.sent,e.abrupt("return",s);case 15:throw e.prev=15,e.t0=e.catch(0),console.error("Error deleting response:",e.t0.message),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}var w=function(){b(!h)},v=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,O(n);case 4:e.sent,window.location.reload(),g(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error deleting response:",e.t0.message),g(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return x?Object(r.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center"},children:"Item Is Being Deleted..."}):Object(r.jsxs)("li",{style:{fontSize:"1.5rem",border:"1px solid #311465",padding:"2rem",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",fontWeight:"400",borderRadius:"1rem",position:"relative",overflow:"hidden"},children:[Object(r.jsx)("div",{style:{background:"#311465",height:"100%",width:"4px",position:"absolute",left:0,top:0}}),Object(r.jsxs)("div",{style:{marginLeft:"4rem"},children:[Object(r.jsxs)("h3",{children:["Item ID: ",Object(r.jsx)("span",{className:u.a.spaner,children:i})]}),Object(r.jsxs)("h3",{children:["Item Name: ",Object(r.jsx)("span",{className:u.a.spaner,children:c})]}),Object(r.jsxs)("h3",{children:["Question? ",Object(r.jsx)("span",{className:u.a.spaner,children:d})]}),Object(r.jsxs)("h3",{children:["Your Answer: ",Object(r.jsx)("span",{className:u.a.spaner,children:j})]}),Object(r.jsxs)("h3",{children:["Time: ",Object(r.jsx)("span",{className:u.a.spaner,children:p})]}),Object(r.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:h||Object(r.jsx)("button",{className:u.a.btn,onClick:w,children:"Show Response"})}),h&&Object(r.jsxs)("div",{style:{padding:"1rem",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:"1rem",background:"#f4f4f4"},children:[Object(r.jsxs)("h4",{children:["Response :"," ",Object(r.jsx)("span",{style:{color:"#311465"},children:a})]}),Object(r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1rem"},children:[Object(r.jsx)("button",{className:u.a.btn,onClick:w,children:"Close"}),Object(r.jsx)("button",{className:u.a.btn,onClick:v,children:"Delete"})]})]})]})]})},j=function(e){var t=e.data;return Array.isArray(t)?Object(r.jsx)("ul",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",listStyle:"none",padding:"1rem",margin:"1.5rem",gap:"2rem"},children:t.map((function(e){return Object(r.jsx)(p,{data:e},e._id)}))}):Object(r.jsx)(c.a,{})},f=function(){var e=Object(s.useState)(""),t=e[0],n=e[1],i=Object(s.useState)(!1),o=i[0],l=i[1],d=Object(s.useState)(!1),u=d[0],p=d[1],f=Object(s.useState)("Sorry but the page you are looking for does not exist."),h=f[0],b=f[1];return Object(s.useEffect)((function(){var e=!0;return l(!0),fetch("/api/answers/sendResponse").then((function(e){return e.json()})).then((function(t){e&&(n(t),t.message&&(b(t.message),p(!0)),l(!1))})).catch((function(t){e&&(p(!0),b("An error occurred while fetching data."),l(!1)),console.error("Fetch error:",t)})),function(){e=!1}}),[]),u?Object(r.jsx)(a.a,{errorData:h}):Object(r.jsxs)("div",{children:[0!==t.length||o?Object(r.jsx)(j,{data:t}):Object(r.jsx)("p",{style:{fontSize:"2rem",display:"flex",marginTop:"1rem",justifyContent:"center",alignItems:"center"},children:"No Responses Found..."}),o&&Object(r.jsx)(c.a,{})]})},h=!0;t.default=function(){return Object(r.jsxs)(s.Fragment,{children:[Object(r.jsx)("h6",{style:{color:"#2e186a",margin:"auto",fontSize:"2.4rem",padding:"0.5rem 0",borderBottom:"3px solid #2e186a",width:"15rem",textAlign:"center"},children:"My Responses"}),Object(r.jsx)(f,{})]})}},VTlJ:function(e,t,n){"use strict";var r=n("nKUr"),s=(n("q1tI"),n("BqnO")),a=n.n(s);t.a=function(){return Object(r.jsx)("div",{className:a.a.loader,children:Object(r.jsx)("div",{className:"".concat(a.a.justifycontentcenter," ").concat(a.a.jimuprimaryloading)})})}}},[["FzaV",0,2,1,3,4]]]);