exports.id=972,exports.ids=[972],exports.modules={7562:e=>{e.exports={header:"main-navigation_header__CJ_tj",navi:"main-navigation_navi__uGlrs",new:"main-navigation_new__vFD6K",imagest:"main-navigation_imagest__K0il8",loginnav:"main-navigation_loginnav__FsBwG",mainnav:"main-navigation_mainnav__HpZ2O",btn:"main-navigation_btn__qd8su",anch:"main-navigation_anch__lRsYj"}},2068:e=>{e.exports={btn:"Button_btn__pWvy7"}},6002:(e,n,s)=>{"use strict";s.d(n,{Z:()=>r});var i=s(997);s(6689);var a=s(2068),t=s.n(a);let r=e=>i.jsx("button",{role:"button",className:t().btn,children:e.content})},5285:(e,n,s)=>{"use strict";s.d(n,{EP:()=>o,vO:()=>l});var i=s(8013);let{ObjectId:a}=s(8013),t=null,r=!1;async function l(){let e;if(r)return console.log("return already stored client"),t;try{e=await i.MongoClient.connect("mongodb+srv://ghufran:Allahis1@cluster0.psik2ae.mongodb.net/Production?retryWrites=true&w=majority",{useUnifiedTopology:!0,useNewUrlParser:!0,connectTimeoutMS:3e4,poolSize:10})}catch(e){if(console.error("Error connecting to the database:",e),"Topology is closed, please connect"===e.message){console.log("Topology is closed. Reconnecting..."),l();return}}return e.on("close",()=>{console.log("Connection closed. Reconnecting..."),l()}),r||(t=e,r=!0,console.log("return new client")),e}async function o(e){let n=await l(),s=n.db().collection("PostedItem"),i=new a(e),t=await s.findOne({_id:i});return t}},4709:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>m});var i=s(997),a=s(1649),t=s(6689),r=s(1664),l=s.n(r),o=s(7562),c=s.n(o),d=s(6002);let h=function(){let{data:e,status:n}=(0,a.useSession)();return i.jsx("header",{className:c().header,children:(0,i.jsxs)("div",{className:c().navi,children:[i.jsx(l(),{href:"/",className:c().imgdiv,legacyBehavior:!0,children:(0,i.jsxs)("div",{className:c().new,children:[i.jsx("img",{src:"/images/logos.png",alt:"logoimg",className:c().imagest}),i.jsx("h5",{children:"LostNest"})]})}),i.jsx("nav",{className:c().mainnav,children:(0,i.jsxs)("ul",{className:c().loginnav,children:["authenticated"===n&&(0,i.jsxs)(i.Fragment,{children:[i.jsx("li",{style:{padding:"5px"},className:c().anch,children:i.jsx(l(),{href:"/dashboard",children:"Feed"})}),i.jsx("li",{style:{padding:"5px"},className:c().anch,children:i.jsx(l(),{href:"/postlostitem",children:"Lost Item?"})}),i.jsx("li",{style:{padding:"5px"},className:c().anch,children:i.jsx(l(),{href:"/postfounditem",children:"Found Item?"})}),i.jsx("li",{style:{padding:"5px"},className:c().anch,children:i.jsx(l(),{href:"/mylistings",children:"My Listings"})}),i.jsx("li",{style:{padding:"5px"},className:c().anch,children:i.jsx(l(),{href:"/responses",children:"Response"})}),i.jsx("li",{style:{padding:"5px"},className:c().anch,children:i.jsx(l(),{href:"/profile",children:"Profile"})}),i.jsx("li",{children:i.jsx("button",{onClick:function(e){e.preventDefault(),(0,a.signOut)()},className:c().btn,children:"Logout"})})]}),"authenticated"!==n&&i.jsx("li",{style:{padding:"5px"},className:c().anch,children:i.jsx(l(),{href:"/stats",children:"Stats"})}),"authenticated"!==n&&i.jsx("li",{children:i.jsx(l(),{href:"/auth",legacyBehavior:!0,children:i.jsx("a",{children:i.jsx(d.Z,{content:"Login"})})})})]})})]})})},x=function(e){return(0,i.jsxs)(t.Fragment,{children:[i.jsx(h,{}),i.jsx("main",{children:e.children})]})};s(6764);let m=function({Component:e,pageProps:n}){return i.jsx(a.SessionProvider,{session:n.session,children:i.jsx(x,{children:i.jsx(e,{...n})})})}},4003:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>l});var i=s(997),a=s(6859),t=s.n(a);class r extends t(){render(){return(0,i.jsxs)(a.Html,{lang:"en",children:[i.jsx(a.Head,{}),(0,i.jsxs)("body",{children:[i.jsx(a.Main,{}),i.jsx(a.NextScript,{}),i.jsx("div",{id:"Questions"}),i.jsx("div",{id:"Answers"}),i.jsx("div",{id:"Notification"}),i.jsx("div",{id:"Loading"})]})]})}}let l=r},9093:(e,n,s)=>{"use strict";s.d(n,{L:()=>d});var i=s(3227),a=s.n(i),t=s(7449),r=s.n(t),l=s(8432);async function o(e,n){let s=await (0,l.compare)(e,n);return s}var c=s(5285);let d={providers:[r()({name:"Credentials",async authorize(e){let n=await (0,c.vO)(),s=n.db().collection("users"),i=await s.findOne({email:e.email});if(!i)throw Error("User does not exist");let a=await o(e.password,i.password);if(!a)throw Error("Incorrect password");return{email:i.email}}})]};a()(d)},6764:()=>{}};