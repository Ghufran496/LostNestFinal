(()=>{var e={};e.id=26,e.ids=[26],e.modules={4752:e=>{e.exports={sec:"ErrorComp_sec__wgAhN",heading1:"ErrorComp_heading1__Mh5h7",div1:"ErrorComp_div1__t1XSG",para1:"ErrorComp_para1__pagyw",para2:"ErrorComp_para2__sAiD0"}},4456:e=>{e.exports={item:"PostItem_item__dbARK",content:"PostItem_content__cJqHW"}},9322:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>W,default:()=>E,getServerSideProps:()=>R,getStaticPaths:()=>L,getStaticProps:()=>I,reportWebVitals:()=>Z,routeModule:()=>H,unstable_getServerProps:()=>V,unstable_getServerSideProps:()=>G,unstable_getStaticParams:()=>M,unstable_getStaticPaths:()=>B,unstable_getStaticProps:()=>F});var s={};r.r(s),r.d(s,{default:()=>D,getServerSideProps:()=>A});var a=r(7093),i=r(5244),n=r(1323),o=r(4003),l=r(4709),c=r(997),d=r(6689);let h=require("next-auth/next"),p=require("next-auth");var u=r.n(p);let m=require("next-auth/providers/credentials");var x=r.n(m);let g=require("bcryptjs");async function f(e,t){let r=await (0,g.compare)(e,t);return r}var j=r(5285);let y={providers:[x()({name:"Credentials",async authorize(e){let t=await (0,j.vO)(),r=t.db().collection("users"),s=await r.findOne({email:e.email});if(!s)throw Error("User does not exist");let a=await f(e.password,s.password);if(!a)throw Error("Incorrect password");return{email:s.email}}})]};u()(y);var v=r(4456),S=r.n(v),b=r(6002),_=r(1664),P=r.n(_);let w=function(e){let{_id:t,Type:r,Category:s,Title:a,Description:i,Question:n,Date,ReducedImg:o}=e.data,l=`/dashboard/${t}`;return(0,c.jsxs)("li",{className:S().item,children:[c.jsx("div",{className:S().imgdiv,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:c.jsx("img",{src:o,alt:a,width:250,height:160,style:{overflow:"scroll"}})}),(0,c.jsxs)("div",{className:S().content,children:[(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[c.jsx("h1",{style:{backgroundColor:"#311465",padding:"5px 30px",borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem",borderLeft:"1px solid black",borderRight:"1px solid black",fontSize:"1.5rem",fontWeight:"lighter",textTransform:"uppercase",color:"white"},children:r}),c.jsx("h3",{style:{fontSize:"1.5rem"},children:Date})]}),(0,c.jsxs)("div",{style:{marginTop:"2rem",marginBottom:"1rem",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,c.jsxs)("h2",{style:{textTransform:"capitalize"},children:["Category: ",s]}),(0,c.jsxs)("h2",{style:{textTransform:"capitalize"},children:["Item Name: ",a]})]}),(0,c.jsxs)("h3",{style:{textTransform:"capitalize",overflow:"hidden"},children:[c.jsx("span",{style:{fontWeight:"bolder",fontSize:"1.5rem"},children:"Description:\xa0"}),i]})]}),c.jsx("div",{className:S().actions,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:c.jsx(P(),{href:l,legacyBehavior:!0,children:c.jsx("a",{children:c.jsx(b.Z,{content:"View Details"})})})})]})};var C=r(1758);let q=function(e){let{data:t}=e;return Array.isArray(t)?c.jsx("ul",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1rem"},children:t.map(e=>c.jsx(w,{data:e},e._id))}):c.jsx(C.Z,{})};var N=r(1671);let T=function(){let[e,t]=(0,d.useState)(""),[r,s]=(0,d.useState)(!1),[a,i]=(0,d.useState)(!1),[n,o]=(0,d.useState)("Sorry but the page you are looking for does not exist.");return((0,d.useEffect)(()=>{let e=!0;return s(!0),fetch("/api/post/postitem").then(e=>e.json()).then(r=>{e&&(t(r),r.message&&(o(r.message),i(!0)),s(!1))}).catch(t=>{e&&(i(!0),o("An error occurred while fetching data."),s(!1)),console.error("Fetch error:",t)}),()=>{e=!1}},[]),a)?c.jsx(N.Z,{errorData:n}):(0,c.jsxs)("div",{children:[0!==e.length||r?c.jsx(q,{data:e}):c.jsx("p",{style:{fontSize:"2rem",display:"flex",marginTop:"1rem",justifyContent:"center",alignItems:"center"},children:"No Posts Found..."}),r&&c.jsx(C.Z,{})]})};var k=r(4298),z=r.n(k);async function A(e){let t=await (0,h.getServerSession)(e.req,e.res,y);return t?{props:{}}:{redirect:{destination:"/auth",permanent:!1}}}let D=e=>(0,c.jsxs)(d.Fragment,{children:[(0,c.jsxs)(z(),{children:[c.jsx("title",{children:"Dashboard"}),c.jsx("meta",{name:"description",content:"All Posted items who are either Lost or Found"}),c.jsx("link",{rel:"icon",href:"/images/logos.png"})]}),(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1rem"},children:[c.jsx("h1",{style:{fontSize:"4rem"},children:"Welcome To LostNest"}),c.jsx("h3",{children:"Thank You for being a part of LostNest community and helping each other."}),c.jsx("h6",{style:{color:"#2e186a",margin:"auto",fontSize:"2.575rem",padding:"0.5rem 0",borderBottom:"3px solid #2e186a",width:"15rem",textAlign:"center"},children:"Posted Items"})]}),c.jsx(T,{})]}),E=(0,n.l)(s,"default"),I=(0,n.l)(s,"getStaticProps"),L=(0,n.l)(s,"getStaticPaths"),R=(0,n.l)(s,"getServerSideProps"),W=(0,n.l)(s,"config"),Z=(0,n.l)(s,"reportWebVitals"),F=(0,n.l)(s,"unstable_getStaticProps"),B=(0,n.l)(s,"unstable_getStaticPaths"),M=(0,n.l)(s,"unstable_getStaticParams"),V=(0,n.l)(s,"unstable_getServerProps"),G=(0,n.l)(s,"unstable_getServerSideProps"),H=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/dashboard",pathname:"/dashboard",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:s})},1671:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var s=r(997),a=r(6689),i=r(968),n=r.n(i),o=r(4752),l=r.n(o),c=r(1664),d=r.n(c),h=r(6002);let p=function(e){return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsxs)(n(),{children:[s.jsx("title",{children:"Lost Nest"}),s.jsx("meta",{name:"Error Page",content:"Page is lost due to some issue"}),s.jsx("link",{rel:"icon",href:"/images/logos.png"})]}),s.jsx("section",{className:l().sec,children:(0,s.jsxs)("div",{className:l().div1,children:[s.jsx("h1",{className:l().heading1,children:"404"}),s.jsx("p",{className:l().para1,children:e.errorData}),s.jsx("p",{className:l().para2,children:"Sorry, we can't find that page. You'll find lots to explore on the home page."}),s.jsx(d(),{href:"/",children:s.jsx("a",{children:s.jsx(h.Z,{content:"Back to Homepage"})})})]})})]})}},8013:e=>{"use strict";e.exports=require("mongodb")},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},1017:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[556,859,664,235,497],()=>r(9322));module.exports=s})();