(()=>{var e={};e.id=661,e.ids=[661],e.modules={6648:e=>{e.exports={spaner:"ResponseItem_spaner__M4y76",btn:"ResponseItem_btn__e657s"}},4752:e=>{e.exports={sec:"ErrorComp_sec__wgAhN",heading1:"ErrorComp_heading1__Mh5h7",div1:"ErrorComp_div1__t1XSG",para1:"ErrorComp_para1__pagyw",para2:"ErrorComp_para2__sAiD0"}},8626:e=>{e.exports={loader:"Loading_loader__2NHPb",jimuprimaryloading:"Loading_jimuprimaryloading__IK7Ye","loading-keys-app-loading":"Loading_loading-keys-app-loading__be4CY"}},9701:(e,r,s)=>{"use strict";s.r(r),s.d(r,{config:()=>k,default:()=>P,getServerSideProps:()=>C,getStaticPaths:()=>N,getStaticProps:()=>w,reportWebVitals:()=>E,routeModule:()=>T,unstable_getServerProps:()=>I,unstable_getServerSideProps:()=>D,unstable_getStaticParams:()=>A,unstable_getStaticPaths:()=>R,unstable_getStaticProps:()=>q});var t={};s.r(t),s.d(t,{default:()=>v,getServerSideProps:()=>b});var n=s(7093),a=s(5244),i=s(1323),o=s(4003),l=s(4709),d=s(997),c=s(6689),p=s(1671),u=s(1758),h=s(6648),m=s.n(h);let g=e=>{let{_id:r,enteredContact:s,ItemTitle:t,PostID:n,PosterID:a,Question:i,ValidatorDateTime:o,Answer:l}=e.data,[p,u]=(0,c.useState)(!1),[h,g]=(0,c.useState)(!1);async function x(e){try{let r=await fetch("/api/answers/deleteResponse",{method:"DELETE",body:JSON.stringify({DeleteResponse:e}),headers:{"Content-Type":"application/json"}});if(!r.ok){let e=await r.text();throw Error(`HTTP error! Status: ${r.status}, Message: ${e}`)}let s=await r.json();return s}catch(e){throw console.error("Error deleting response:",e.message),e}}let j=()=>{u(!p)},f=async()=>{g(!0);try{await x(r),window.location.reload(),g(!1)}catch(e){console.error("Error deleting response:",e.message),g(!1)}};return h?d.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center"},children:"Item Is Being Deleted..."}):(0,d.jsxs)("li",{style:{fontSize:"1.5rem",border:"1px solid #311465",padding:"2rem",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",fontWeight:"400",borderRadius:"1rem",position:"relative",overflow:"hidden"},children:[d.jsx("div",{style:{background:"#311465",height:"100%",width:"4px",position:"absolute",left:0,top:0}}),(0,d.jsxs)("div",{style:{marginLeft:"4rem"},children:[(0,d.jsxs)("h3",{children:["Item ID: ",d.jsx("span",{className:m().spaner,children:n})]}),(0,d.jsxs)("h3",{children:["Item Name: ",d.jsx("span",{className:m().spaner,children:t})]}),(0,d.jsxs)("h3",{children:["Question? ",d.jsx("span",{className:m().spaner,children:i})]}),(0,d.jsxs)("h3",{children:["Your Answer: ",d.jsx("span",{className:m().spaner,children:l})]}),(0,d.jsxs)("h3",{children:["Time: ",d.jsx("span",{className:m().spaner,children:o})]}),d.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:p||d.jsx("button",{className:m().btn,onClick:j,children:"Show Response"})}),p&&(0,d.jsxs)("div",{style:{padding:"1rem",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:"1rem",background:"#f4f4f4"},children:[(0,d.jsxs)("h4",{children:["Response :"," ",d.jsx("span",{style:{color:"#311465"},children:s})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"1rem"},children:[d.jsx("button",{className:m().btn,onClick:j,children:"Close"}),d.jsx("button",{className:m().btn,onClick:f,children:"Delete"})]})]})]})]})},x=e=>{let{data:r}=e;return Array.isArray(r)?d.jsx("ul",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",listStyle:"none",padding:"1rem",margin:"1.5rem",gap:"2rem"},children:r.map(e=>d.jsx(g,{data:e},e._id))}):d.jsx(u.Z,{})},j=()=>{let[e,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),[n,a]=(0,c.useState)(!1),[i,o]=(0,c.useState)("Sorry but the page you are looking for does not exist.");return((0,c.useEffect)(()=>{let e=!0;return t(!0),fetch("/api/answers/sendResponse").then(e=>e.json()).then(s=>{e&&(r(s),s.message&&(o(s.message),a(!0)),t(!1))}).catch(r=>{e&&(a(!0),o("An error occurred while fetching data."),t(!1)),console.error("Fetch error:",r)}),()=>{e=!1}},[]),n)?d.jsx(p.Z,{errorData:i}):(0,d.jsxs)("div",{children:[0!==e.length||s?d.jsx(x,{data:e}):d.jsx("p",{style:{fontSize:"1.5rem",display:"flex",marginTop:"1rem",justifyContent:"center",alignItems:"center"},children:"No Responses Found..."}),s&&d.jsx(u.Z,{})]})};var f=s(968),y=s.n(f),S=s(2113),_=s(9093);async function b(e){let r=await (0,S.getServerSession)(e.req,e.res,_.L);return r?{props:{}}:{redirect:{destination:"/auth",permanent:!1}}}let v=()=>(0,d.jsxs)(c.Fragment,{children:[(0,d.jsxs)(y(),{children:[d.jsx("title",{children:"Responses"}),d.jsx("meta",{name:"description",content:"All Responses stored here"}),d.jsx("link",{rel:"icon",href:"/images/logos.png"})]}),d.jsx("h6",{style:{color:"#2e186a",margin:"auto",fontSize:"2.4rem",padding:"0.5rem 0",borderBottom:"3px solid #2e186a",width:"15rem",textAlign:"center"},children:"My Responses"}),d.jsx(j,{})]}),P=(0,i.l)(t,"default"),w=(0,i.l)(t,"getStaticProps"),N=(0,i.l)(t,"getStaticPaths"),C=(0,i.l)(t,"getServerSideProps"),k=(0,i.l)(t,"config"),E=(0,i.l)(t,"reportWebVitals"),q=(0,i.l)(t,"unstable_getStaticProps"),R=(0,i.l)(t,"unstable_getStaticPaths"),A=(0,i.l)(t,"unstable_getStaticParams"),I=(0,i.l)(t,"unstable_getServerProps"),D=(0,i.l)(t,"unstable_getServerSideProps"),T=new n.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/responses",pathname:"/responses",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:t})},1671:(e,r,s)=>{"use strict";s.d(r,{Z:()=>u});var t=s(997),n=s(6689),a=s(968),i=s.n(a),o=s(4752),l=s.n(o),d=s(1664),c=s.n(d),p=s(6002);let u=function(e){return(0,t.jsxs)(n.Fragment,{children:[(0,t.jsxs)(i(),{children:[t.jsx("title",{children:"Lost Nest"}),t.jsx("meta",{name:"Error Page",content:"Page is lost due to some issue"}),t.jsx("link",{rel:"icon",href:"/images/logos.png"})]}),t.jsx("section",{className:l().sec,children:(0,t.jsxs)("div",{className:l().div1,children:[t.jsx("h1",{className:l().heading1,children:"404"}),t.jsx("p",{className:l().para1,children:e.errorData}),t.jsx("p",{className:l().para2,children:"Sorry, we can't find that page. You'll find lots to explore on the home page."}),t.jsx(c(),{href:"/",legacyBehavior:!0,children:t.jsx("a",{children:t.jsx(p.Z,{content:"Back to Homepage"})})})]})})]})}},1758:(e,r,s)=>{"use strict";s.d(r,{Z:()=>i});var t=s(997);s(6689);var n=s(8626),a=s.n(n);let i=function(){return t.jsx("div",{className:a().loader,children:t.jsx("div",{className:`${a().justifycontentcenter} ${a().jimuprimaryloading}`})})}},8432:e=>{"use strict";e.exports=require("bcryptjs")},8013:e=>{"use strict";e.exports=require("mongodb")},3227:e=>{"use strict";e.exports=require("next-auth")},2113:e=>{"use strict";e.exports=require("next-auth/next")},7449:e=>{"use strict";e.exports=require("next-auth/providers/credentials")},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},1017:e=>{"use strict";e.exports=require("path")}};var r=require("../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[556,859,664,124],()=>s(9701));module.exports=t})();