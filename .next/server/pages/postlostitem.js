(()=>{var e={};e.id=446,e.ids=[446],e.modules={4752:e=>{e.exports={sec:"ErrorComp_sec__wgAhN",heading1:"ErrorComp_heading1__Mh5h7",div1:"ErrorComp_div1__t1XSG",para1:"ErrorComp_para1__pagyw",para2:"ErrorComp_para2__sAiD0"}},2447:e=>{e.exports={loadingcontainer:"Loadings_loadingcontainer__JsUTc",slideIn:"Loadings_slideIn__fnhBy",bouncingdots:"Loadings_bouncingdots__xlI1z",loadingText:"Loadings_loadingText__Tc_r8",dot:"Loadings_dot__yP_ic",bounce:"Loadings_bounce__lwnFQ"}},3425:e=>{e.exports={notification:"noti_notification__fiHED",tick:"noti_tick__sZe3f",show:"noti_show__FFupf"}},2607:e=>{e.exports={formstyle3:"PostNewItem_formstyle3__dO7Po",divider:"PostNewItem_divider__WYILU",center:"PostNewItem_center__JtHGf",customselect:"PostNewItem_customselect__PDM1A",required:"PostNewItem_required__X_gvY"}},1100:e=>{e.exports={center:"PostItem_center__2KZMn"}},6505:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>I,default:()=>q,getServerSideProps:()=>D,getStaticPaths:()=>L,getStaticProps:()=>w,reportWebVitals:()=>C,routeModule:()=>Z,unstable_getServerProps:()=>F,unstable_getServerSideProps:()=>R,unstable_getStaticParams:()=>T,unstable_getStaticPaths:()=>k,unstable_getStaticProps:()=>E});var r={};s.r(r),s.d(r,{default:()=>b,getServerSideProps:()=>P});var a=s(7093),i=s(5244),n=s(1323),o=s(4003),l=s(4709),c=s(997),d=s(6689),u=s(1100),p=s.n(u),m=s(2113),h=s(9093),x=s(4298),g=s.n(x),j=s(2607),_=s.n(j),f=s(6002),v=s(1671),S=s(2496),y=s(4377);let N=function(){let[e,t]=(0,d.useState)(!1),[s,r]=(0,d.useState)(""),[a,i]=(0,d.useState)(!1),[n,o]=(0,d.useState)("Sorry but the page you are looking for does not exist."),[l,u]=(0,d.useState)(!1),p=(0,d.useRef)(),m=(0,d.useRef)(),h=(0,d.useRef)(),x=(0,d.useRef)(),g=(0,d.useRef)(),j=(0,d.useRef)();async function N(e,t){let s=await fetch("/api/email/sendEmail",{method:"POST",body:JSON.stringify({subject:e,message:t}),headers:{"Content-Type":"application/json"}});s.ok||console.error(`Error sending email. Status: ${s.status}`);let r=await s.json();return r.success&&u(!0),r}async function P(e,s,r,a,n,l,c){let d=await fetch("/api/post/postitem",{method:"POST",body:JSON.stringify({Type:e,Category:s,Title:r,Description:a,Question:n,Date:l,ReducedImg:c}),headers:{"Content-Type":"application/json"}});u(!1);let p=await d.json();return d.ok||(o(p.message),t(!1),i(!0)),p}let b=async e=>{e.preventDefault(),t(!0);let a=p.current.value,i=m.current.value,n=h.current.value,o=x.current.value,l=g.current.value,c=j.current.value,d=new Date(c).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"}),_=`${a} ${i}
  
Item Name: ${n}
Date: ${d}
Description: ${o}

If you have any information about the ${a} item, kindly visit the LostNest web application.

Thank you
`,f=`${a} : ${n}`;await N(f,_),await P(a,i,n,o,l,d,s),e.target.reset(),r(""),t(!1),u(!1)};return a?c.jsx(v.Z,{errorData:n}):(0,c.jsxs)(d.Fragment,{children:[c.jsx("div",{className:_().formstyle3,children:(0,c.jsxs)("form",{onSubmit:b,children:[(0,c.jsxs)("fieldset",{children:[c.jsx("legend",{children:"Data"}),(0,c.jsxs)("div",{className:_().divider,children:[c.jsx("select",{name:"item",className:_().inputfield,ref:p,children:c.jsx("option",{value:"Lost",children:"Lost"})}),(0,c.jsxs)("select",{defaultValue:"Category",name:"category",className:_().inputfield,ref:m,required:!0,children:[c.jsx("option",{value:"Category",disabled:!0,children:"Category"}),c.jsx("option",{value:"Wallet",children:"Wallet"}),c.jsx("option",{value:"ID Card / Student Card",children:"ID Card / Student Card"}),c.jsx("option",{value:"Smart Phone / Laptop",children:"Smart Phone / Laptop"}),c.jsx("option",{value:"Keys",children:"Keys"}),c.jsx("option",{value:"Others",children:"Others"})]})]}),(0,c.jsxs)("label",{htmlFor:"field3",children:[(0,c.jsxs)("span",{children:["Item Name ",c.jsx("span",{className:_().required,children:"*"})]}),c.jsx("input",{type:"text",name:"field3",placeholder:"Title",className:_().inputfield,ref:h,required:!0})]}),(0,c.jsxs)("label",{htmlFor:"field4",children:[(0,c.jsxs)("span",{children:["Enter question based on an item.",c.jsx("span",{className:_().required,children:"*"})]}),c.jsx("input",{type:"text",name:"field4",placeholder:"Ex:- What is the color of the phone?",className:_().inputfield,ref:g,required:!0})]}),(0,c.jsxs)("label",{htmlFor:"date",children:[(0,c.jsxs)("span",{children:["Select a Date: ",c.jsx("span",{className:_().required,children:"*"})]}),c.jsx("input",{type:"date",name:"date",id:"date",className:_().customselect,ref:j,required:!0})]})]}),(0,c.jsxs)("fieldset",{children:[c.jsx("legend",{children:"Details"}),(0,c.jsxs)("label",{htmlFor:"description",children:[(0,c.jsxs)("span",{children:["Description ",c.jsx("span",{className:_().required,children:"*"})]}),c.jsx("textarea",{type:"text",name:"description",placeholder:"Description about item (like location etc...)",className:_().textareafield,ref:x,required:!0})]}),c.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",className:_().customselect,style:{width:"100%"},onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{r(t.result)},t.onerror=()=>{console.log("error",error)}},required:!0}),c.jsx("div",{className:_().center,children:c.jsx(f.Z,{content:"Post"})})]})]})}),l&&c.jsx(S.Z,{data:"Email Successfully Sent to LostNest Registered Users!"}),e&&c.jsx(y.Z,{})]})};async function P(e){let t=await (0,m.getServerSession)(e.req,e.res,h.L);return t?{props:{}}:{redirect:{destination:"/auth",permanent:!1}}}let b=function(){return(0,c.jsxs)(d.Fragment,{children:[(0,c.jsxs)(g(),{children:[c.jsx("title",{children:"Post Lost Item"}),c.jsx("meta",{name:"description",content:"If you have Lost anything post here"}),c.jsx("link",{rel:"icon",href:"/images/logos.png"})]}),c.jsx("div",{className:p().center,children:c.jsx(N,{})})]})},q=(0,n.l)(r,"default"),w=(0,n.l)(r,"getStaticProps"),L=(0,n.l)(r,"getStaticPaths"),D=(0,n.l)(r,"getServerSideProps"),I=(0,n.l)(r,"config"),C=(0,n.l)(r,"reportWebVitals"),E=(0,n.l)(r,"unstable_getStaticProps"),k=(0,n.l)(r,"unstable_getStaticPaths"),T=(0,n.l)(r,"unstable_getStaticParams"),F=(0,n.l)(r,"unstable_getServerProps"),R=(0,n.l)(r,"unstable_getServerSideProps"),Z=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/postlostitem",pathname:"/postlostitem",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:r})},1671:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var r=s(997),a=s(6689),i=s(968),n=s.n(i),o=s(4752),l=s.n(o),c=s(1664),d=s.n(c),u=s(6002);let p=function(e){return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)(n(),{children:[r.jsx("title",{children:"Lost Nest"}),r.jsx("meta",{name:"Error Page",content:"Page is lost due to some issue"}),r.jsx("link",{rel:"icon",href:"/images/logos.png"})]}),r.jsx("section",{className:l().sec,children:(0,r.jsxs)("div",{className:l().div1,children:[r.jsx("h1",{className:l().heading1,children:"404"}),r.jsx("p",{className:l().para1,children:e.errorData}),r.jsx("p",{className:l().para2,children:"Sorry, we can't find that page. You'll find lots to explore on the home page."}),r.jsx(d(),{href:"/",legacyBehavior:!0,children:r.jsx("a",{children:r.jsx(u.Z,{content:"Back to Homepage"})})})]})})]})}},4377:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(997);s(6689);var a=s(6405),i=s(2447),n=s.n(i);let o=()=>(0,a.createPortal)(r.jsx("div",{className:n().loadingcontainer,children:(0,r.jsxs)("div",{className:n().bouncingdots,children:[r.jsx("div",{className:n().loadingText,children:"Loading"}),r.jsx("div",{className:n().dot}),r.jsx("div",{className:n().dot}),r.jsx("div",{className:n().dot})]})}),document.getElementById("Loading"))},2496:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a}),s(997);var r=s(6689);s(6405),s(3425);let a=e=>{let[t,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{s(!0);let e=setTimeout(()=>{s(!1)},3e3);return()=>clearTimeout(e)},[]),null}},8432:e=>{"use strict";e.exports=require("bcryptjs")},8013:e=>{"use strict";e.exports=require("mongodb")},3227:e=>{"use strict";e.exports=require("next-auth")},2113:e=>{"use strict";e.exports=require("next-auth/next")},7449:e=>{"use strict";e.exports=require("next-auth/providers/credentials")},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},1017:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[556,859,664,235,972],()=>s(6505));module.exports=r})();