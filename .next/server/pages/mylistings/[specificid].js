(()=>{var e={};e.id=766,e.ids=[766],e.modules={8978:e=>{e.exports={responses:"answer_responses__3Jd1c",button52:"answer_button52__kAOaa",btndiv:"answer_btndiv__eKp5o","button-52":"answer_button-52__BPszC"}},4506:e=>{e.exports={response:"answerlist_response__povAp"}},3752:e=>{e.exports={list:"singleans_list__nVLgb",linkpara:"singleans_linkpara__dbfRZ",link:"singleans_link__t0i8g",button52:"singleans_button52__aLXF6",btndiv:"singleans_btndiv__sgso_","button-52":"singleans_button-52__xci0c",responder:"singleans_responder__yCH_n"}},2525:e=>{e.exports={diver:"AForm_diver__4pS0e",para1:"AForm_para1__YT7kU",btndiver:"AForm_btndiver__yqGIY",button90:"AForm_button90__M2eTD"}},5446:e=>{e.exports={backer:"AnswerForm_backer__cBaWP",formContainer:"AnswerForm_formContainer__ZQZO4"}},9074:e=>{e.exports={form:"DetailForm_form__L2sIP",button89:"DetailForm_button89__cGx0_",twobtn:"DetailForm_twobtn__V7qmY"}},2881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>Y,default:()=>J,getServerSideProps:()=>V,getStaticPaths:()=>G,getStaticProps:()=>U,reportWebVitals:()=>$,routeModule:()=>K,unstable_getServerProps:()=>Q,unstable_getServerSideProps:()=>X,unstable_getStaticParams:()=>H,unstable_getStaticPaths:()=>W,unstable_getStaticProps:()=>M});var n={};s.r(n),s.d(n,{default:()=>B,getServerSideProps:()=>L});var r=s(7093),a=s(5244),i=s(1323),o=s(4003),l=s(4709),c=s(997),d=s(6689),u=s(1758),p=s(6702),m=s(7357),x=s(2395),_=s(4298),b=s.n(_),h=s(4506),g=s.n(h),j=s(3752),f=s.n(j),S=s(2525),v=s.n(S),y=s(9074),w=s.n(y);let P=e=>{let{ItemTitle:t,PostID:s,PosterID:n,Question:r,Answer:a}=e.senderData,[i,o]=(0,d.useState)(!1),l=(0,d.useRef)();async function u(e,t,s,n,r,a,i){let l=await fetch("/api/answers/sendResponse",{method:"POST",body:JSON.stringify({enteredInformations:e,ItemTitle:t,PostID:s,PosterID:n,Question:r,combinedDateTime:a,Answer:i}),headers:{"Content-Type":"application/json"}}),c=await l.json();return l.ok||o(!1),c}let p=new Date,m=p.toLocaleDateString("en-US"),x=p.toLocaleTimeString("en-US"),_=`${m} ${x}`;async function b(e){e.preventDefault(),o(!0);let i=l.current.value;await u(i,t,s,n,r,_,a),e.target.reset(),o(!1)}return i?c.jsx("div",{style:{fontSize:"1.5rem"},children:"Submiting..."}):c.jsx(d.Fragment,{children:(0,c.jsxs)("form",{className:w().form,onSubmit:b,children:[c.jsx("label",{for:"contactInformations",children:"Enter Contact Informations"}),c.jsx("textarea",{type:"text",name:"contactInformations",rows:"4",cols:"40",placeholder:"your Gmail or cell number.",ref:l,required:!0}),(0,c.jsxs)("div",{className:w().twobtn,children:[c.jsx("button",{className:w().button89,type:"submit",role:"button",children:"Submit"}),c.jsx("button",{className:w().button89,type:"button",role:"button",onClick:e.close,children:"Close"})]})]})})},N=function(e){let{_id:t,Answer:s,ItemTitle:n,PostID:r,PosterID:a,Question:i,SubmittedDateTime:o}=e.data2,[l,u]=(0,d.useState)(!1),[p,m]=(0,d.useState)(!1);async function x(e,t,n,r,a,i){let o=await fetch("/api/answers/sendResponse",{method:"POST",body:JSON.stringify({enteredInformations:e,ItemTitle:t,PostID:n,PosterID:r,Question:a,combinedDateTime:i,Answer:s}),headers:{"Content-Type":"application/json"}}),l=await o.json();return o.ok||m(!1),l}let _=new Date,b=_.toLocaleDateString("en-US"),h=_.toLocaleTimeString("en-US"),g=`${b} ${h}`,j=async t=>{t.preventDefault(),m(!0),await x("Responder has nullified the validation.",n,r,a,i,g,s),e.oncancle&&e.oncancle(),m(!1)};return p?c.jsx("div",{style:{fontSize:"1.5rem"},children:"Submiting..."}):c.jsx(d.Fragment,{children:l?c.jsx(P,{close:e.oncancle,senderData:e.data2}):(0,c.jsxs)("div",{className:v().diver,children:[c.jsx("h3",{children:o}),c.jsx("h2",{children:"Question?"}),c.jsx("p",{className:v().para1,children:i}),c.jsx("h2",{children:"Answer"}),c.jsx("p",{className:v().para1,children:s}),(0,c.jsxs)("div",{className:v().btndiver,children:[c.jsx("button",{className:v().button90,type:"button",role:"button",onClick:()=>{u(!0)},children:"Yes"}),c.jsx("button",{className:v().button90,type:"button",role:"button",onClick:j,children:"No"}),c.jsx("button",{className:v().button90,type:"button",role:"button",onClick:e.oncancle,children:"Close"})]})]})})};var k=s(6405),C=s.n(k),T=s(5446),D=s.n(T);let q=e=>C().createPortal(c.jsx("div",{className:D().backer,children:c.jsx("div",{className:D().formContainer,children:c.jsx(N,{oncancle:e.onclose,data2:e.data})})}),document.getElementById("Answers")),F=e=>{let{PosterID:t}=e.data,[s,n]=(0,d.useState)(!1);return(0,c.jsxs)("li",{className:f().list,children:[(0,c.jsxs)("p",{className:f().linkpara,children:[c.jsx("a",{onClick:()=>{n(!0)},className:f().link,children:"Check"}),"\xa0 Response by this user."]}),c.jsx("div",{className:f().responder,children:(0,c.jsxs)("p",{children:["By ",t]})}),s&&c.jsx(q,{onclose:()=>{n(!1)},data:e.data})]})},A=function(e){let{ansitems:t}=e;return c.jsx("ul",{className:g().response,children:t.map(e=>c.jsx(F,{data:e},e._id))})};var R=s(8978),O=s.n(R),I=s(6002);let Z=function(e){let{postid:t}=e;console.log(t);let[s,n]=(0,d.useState)(!1),[r,a]=(0,d.useState)(!1),[i,o]=(0,d.useState)([]);return(0,d.useEffect)(()=>{let e=async()=>{if(s){a(!0);try{let e=await fetch("/api/answers/"+t),s=await e.json();o(s.responses)}catch(e){console.error("Error fetching data:",e)}finally{a(!1)}}};s&&0===i.length&&e()},[s]),(0,c.jsxs)("section",{className:O().responses,children:[c.jsx("div",{className:O().btndiv,children:c.jsx("a",{onClick:function(){n(e=>!e)},children:c.jsx(I.Z,{content:s?"Hide Responses":"Show Responses"})})}),r&&c.jsx("p",{style:{marginBottom:"1rem",marginTop:"1rem",fontSize:"1.5rem",textTransform:"capitalize"},children:"getting responses..."}),0===i.length&&!r&&c.jsx("p",{style:{marginBottom:"1rem",marginTop:"1rem",fontSize:"1.5rem",textTransform:"capitalize"},children:"No responses have been received yet."}),s&&c.jsx(A,{ansitems:i})]})};var z=s(1649),E=s(5285);async function L(e){let{params:t}=e,{specificid:s}=t,n=await (0,E.EP)(s),r=await (0,z.getSession)({req:e.req});return r?{props:{extractedObject:JSON.parse(JSON.stringify(n))}}:{redirect:{destination:"/auth",permanent:!1}}}let B=function(e){let[t,s]=(0,d.useState)(!1),[n,r]=(0,d.useState)(null);return((0,d.useEffect)(()=>{let t=async()=>{let{extractedObject:t}=e;"object"==typeof t?(r(t),s(!1)):s(!0)};t()},[e.extractedObject]),t||!n)?c.jsx(u.Z,{}):(0,c.jsxs)(d.Fragment,{children:[(0,c.jsxs)(b(),{children:[c.jsx("title",{children:n.Title}),c.jsx("meta",{name:"description",content:n.Description})]}),c.jsx(p.Z,{Title:n.Title}),c.jsx(m.Z,{Date:n.Date,ReducedImg:n.ReducedImg,Title:n.Title,Type:n.Type,Category:n.Category}),c.jsx(x.Z,{children:c.jsx("p",{children:n.Description})}),c.jsx(Z,{postid:n._id})]})},J=(0,i.l)(n,"default"),U=(0,i.l)(n,"getStaticProps"),G=(0,i.l)(n,"getStaticPaths"),V=(0,i.l)(n,"getServerSideProps"),Y=(0,i.l)(n,"config"),$=(0,i.l)(n,"reportWebVitals"),M=(0,i.l)(n,"unstable_getStaticProps"),W=(0,i.l)(n,"unstable_getStaticPaths"),H=(0,i.l)(n,"unstable_getStaticParams"),Q=(0,i.l)(n,"unstable_getServerProps"),X=(0,i.l)(n,"unstable_getServerSideProps"),K=new r.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/mylistings/[specificid]",pathname:"/mylistings/[specificid]",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:n})},8013:e=>{"use strict";e.exports=require("mongodb")},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},6907:e=>{"use strict";e.exports=require("react-ionicons")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},1017:e=>{"use strict";e.exports=require("path")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[556,859,664,235,96],()=>s(2881));module.exports=n})();