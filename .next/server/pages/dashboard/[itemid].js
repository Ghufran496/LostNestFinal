(()=>{var e={};e.id=619,e.ids=[619],e.modules={5461:e=>{e.exports={main:"Form_main__EPZpJ",labels:"Form_labels__2uMa7",span1:"Form_span1__Jja5w",inputfield:"Form_inputfield__CRzOj",button89:"Form_button89__ezxQn"}},1764:e=>{e.exports={backer:"QuestionForm_backer__5Ix4s",formContainer:"QuestionForm_formContainer__Rzp4z"}},9326:e=>{e.exports={button52:"itemid_button52__dwewW",btndiv:"itemid_btndiv__UBnUN","button-52":"itemid_button-52__onRnB"}},341:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>Z,default:()=>D,getServerSideProps:()=>O,getStaticPaths:()=>R,getStaticProps:()=>Q,reportWebVitals:()=>z,routeModule:()=>B,unstable_getServerProps:()=>U,unstable_getServerSideProps:()=>A,unstable_getStaticParams:()=>I,unstable_getStaticPaths:()=>J,unstable_getStaticProps:()=>E});var r={};s.r(r),s.d(r,{default:()=>k,getServerSideProps:()=>F});var n=s(7093),a=s(5244),i=s(1323),o=s(4003),l=s(4709),u=s(997),c=s(6689),d=s(4298),p=s.n(d),m=s(6702),b=s(4637),x=s(2395),_=s(6405),S=s.n(_),j=s(1764),g=s.n(j),h=s(5461),f=s.n(h),v=s(1758);let P=function(e){let[t,s]=(0,c.useState)(!1),r=(0,c.useRef)();async function n(e,t,r,n,a){let i=await fetch("/api/qresponse/QuestionResponse",{method:"POST",body:JSON.stringify({enteredAnswer:e,postID:t,ItemTitle:r,Question:n,combinedDateTime:a}),headers:{"Content-Type":"application/json"}}),o=await i.json();return i.ok||s(!1),o}let a=e.data2._id,i=e.data2.Title,o=e.data2.Question,l=new Date,d=l.toLocaleDateString("en-US"),p=l.toLocaleTimeString("en-US"),m=`${d} ${p}`,b=async e=>{e.preventDefault(),s(!0);let t=r.current.value;await n(t,a,i,o,m),e.target.reset(),s(!1)};return t?u.jsx("div",{style:{fontSize:"1.5rem"},children:"Submitting response..."}):(0,u.jsxs)("form",{className:f().main,onSubmit:b,children:[u.jsx("label",{htmlFor:"question",className:f().labels,children:"Question?"}),u.jsx("br",{}),u.jsx("span",{id:"questionContent",className:f().span1,children:e.data2.Question}),u.jsx("br",{}),u.jsx("label",{htmlFor:"answer",className:f().labels,children:"Answer"}),u.jsx("input",{type:"text",id:"answer",className:f().inputfield,ref:r,required:!0}),u.jsx("br",{}),(0,u.jsxs)("div",{className:f().btndiv,children:[u.jsx("button",{className:f().button89,type:"button",role:"button",onClick:e.oncancle,children:"Close"}),u.jsx("button",{className:f().button89,type:"submit",role:"button",children:"Submit"})]})]})},y=function(e){return S().createPortal(u.jsx("div",{className:g().backer,children:u.jsx("div",{className:g().formContainer,children:u.jsx(P,{oncancle:e.onclose,data2:e.data})})}),document.getElementById("Questions"))};var q=s(9326),N=s.n(q),w=s(5285),C=s(427),T=s(6002);async function F(e){let t=e.params.itemid,s=await (0,w.EP)(t),r=await (0,C.getSession)({req:e.req});return r?{props:{extractedObject:JSON.parse(JSON.stringify(s))}}:{redirect:{destination:"/auth",permanent:!1}}}let k=function(e){let[t,s]=(0,c.useState)(!1),[r,n]=(0,c.useState)(!1),[a,i]=(0,c.useState)(null);return((0,c.useEffect)(()=>{let t=async()=>{let{extractedObject:t}=e;"object"==typeof t?(i(t),s(!1)):s(!0)};t()},[e.extractedObject]),t||!a)?u.jsx(v.Z,{}):(0,u.jsxs)(c.Fragment,{children:[(0,u.jsxs)(p(),{children:[u.jsx("title",{children:a.Title}),u.jsx("meta",{name:"description",content:a.Description})]}),u.jsx(m.Z,{Title:a.Title}),u.jsx(b.Z,{Date:a.Date,ReducedImg:a.ReducedImg,Title:a.Title,Type:a.Type,Category:a.Category}),u.jsx(x.Z,{children:u.jsx("p",{children:a.Description})}),u.jsx("div",{className:N().btndiv,children:u.jsx("a",{onClick:()=>{n(!0)},children:u.jsx(T.Z,{content:`Claim This ${a.Title}`})})}),r&&u.jsx(y,{onclose:()=>{n(!1)},data:a})]})},D=(0,i.l)(r,"default"),Q=(0,i.l)(r,"getStaticProps"),R=(0,i.l)(r,"getStaticPaths"),O=(0,i.l)(r,"getServerSideProps"),Z=(0,i.l)(r,"config"),z=(0,i.l)(r,"reportWebVitals"),E=(0,i.l)(r,"unstable_getStaticProps"),J=(0,i.l)(r,"unstable_getStaticPaths"),I=(0,i.l)(r,"unstable_getStaticParams"),U=(0,i.l)(r,"unstable_getServerProps"),A=(0,i.l)(r,"unstable_getServerSideProps"),B=new n.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/dashboard/[itemid]",pathname:"/dashboard/[itemid]",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:r})},8013:e=>{"use strict";e.exports=require("mongodb")},427:e=>{"use strict";e.exports=require("next-auth/client")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},6907:e=>{"use strict";e.exports=require("react-ionicons")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},1017:e=>{"use strict";e.exports=require("path")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[556,859,664,235,96],()=>s(341));module.exports=r})();